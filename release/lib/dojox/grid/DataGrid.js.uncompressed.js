//>>built
require({cache:{"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(m,l){var h=/[&<>'"\/]/g,g={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},c={};l.setObject("dojo.string",c);c.escape=function(d){return!d?"":d.replace(h,function(d){return g[d]})};c.rep=function(d,c){if(0>=c||!d)return"";for(var b=[];;){c&1&&b.push(d);if(!(c>>=1))break;d+=d}return b.join("")};c.pad=function(d,f,b,k){b||(b="0");d=String(d);f=c.rep(b,Math.ceil((f-
d.length)/b.length));return k?d+f:f+d};c.substitute=function(d,c,b,k){k=k||m.global;b=b?l.hitch(k,b):function(b){return b};return d.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,a,d){e=l.getObject(a,!1,c);d&&(e=l.getObject(d,!1,k).call(k,e,a));return b(e,a).toString()})};c.trim=String.prototype.trim?l.trim:function(d){d=d.replace(/^\s+/,"");for(var c=d.length-1;0<=c;c--)if(/\S/.test(d.charAt(c))){d=d.substring(0,c+1);break}return d};return c})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(m,l,h,g,c,d,f){var b={_isElementShown:function(b){var e=g.get(b);return"hidden"!=e.visibility&&"collapsed"!=e.visibility&&"none"!=e.display&&"hidden"!=h.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return h.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var e;try{var a=b.contentDocument;if("designMode"in a&&"on"==a.designMode)return!0;e=a.body}catch(c){try{e=b.contentWindow.document.body}catch(d){return!1}}return e&&
("true"==e.contentEditable||e.firstChild&&"true"==e.firstChild.contentEditable);default:return"true"==b.contentEditable}},effectiveTabIndex:function(c){return h.get(c,"disabled")?void 0:h.has(c,"tabIndex")?+h.get(c,"tabIndex"):b.hasDefaultTabStop(c)?0:void 0},isTabNavigable:function(c){return 0<=b.effectiveTabIndex(c)},isFocusable:function(c){return-1<=b.effectiveTabIndex(c)},_getTabNavigable:function(c){function e(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var a,f,n,r,t,p,g={},x=b._isElementShown,w=b.effectiveTabIndex,s=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=d("ie")&&"HTML"!==b.scopeName||!x(b))){var c=w(b);if(0<=c){if(0==c)a||(a=b),f=b;else if(0<c){if(!n||c<r)r=c,n=b;if(!t||c>=p)p=c,t=b}c=e(b);h.get(b,"checked")&&c&&(g[c]=b)}"SELECT"!=b.nodeName.toUpperCase()&&s(b)}};x(c)&&s(c);return{first:g[e(a)]||a,last:g[e(f)]||f,lowest:g[e(n)]||n,highest:g[e(t)]||t}},getFirstInTabbingOrder:function(c,
e){var a=b._getTabNavigable(l.byId(c,e));return a.lowest?a.lowest:a.first},getLastInTabbingOrder:function(c,e){var a=b._getTabNavigable(l.byId(c,e));return a.last?a.last:a.highest}};c.mixin(f,b);return b})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(m,l,h,g,c,d){var f={};m.setObject("dojo.dnd.autoscroll",f);f.getViewport=d.getBox;f.V_TRIGGER_AUTOSCROLL=32;f.H_TRIGGER_AUTOSCROLL=32;f.V_AUTOSCROLL_VALUE=
16;f.H_AUTOSCROLL_VALUE=16;var b,k=h.doc,e=Infinity,a=Infinity;f.autoScrollStart=function(c){k=c;b=d.getBox(k);c=h.body(k).parentNode;e=Math.max(c.scrollHeight-b.h,0);a=Math.max(c.scrollWidth-b.w,0)};f.autoScroll=function(c){var n=b||d.getBox(k),r=h.body(k).parentNode,t=0,p=0;c.clientX<f.H_TRIGGER_AUTOSCROLL?t=-f.H_AUTOSCROLL_VALUE:c.clientX>n.w-f.H_TRIGGER_AUTOSCROLL&&(t=Math.min(f.H_AUTOSCROLL_VALUE,a-r.scrollLeft));c.clientY<f.V_TRIGGER_AUTOSCROLL?p=-f.V_AUTOSCROLL_VALUE:c.clientY>n.h-f.V_TRIGGER_AUTOSCROLL&&
(p=Math.min(f.V_AUTOSCROLL_VALUE,e-r.scrollTop));window.scrollBy(t,p)};f._validNodes={div:1,p:1,td:1};f._validOverflow={auto:1,scroll:1};f.autoScrollNodes=function(a){for(var b,e,d,p,k,x,w=0,s=0,y=a.target;y;){if(1==y.nodeType&&y.tagName.toLowerCase()in f._validNodes){d=c.getComputedStyle(y);p=d.overflow.toLowerCase()in f._validOverflow;k=d.overflowX.toLowerCase()in f._validOverflow;x=d.overflowY.toLowerCase()in f._validOverflow;if(p||k||x)b=g.getContentBox(y,d),e=g.position(y,!0);if(p||k){d=Math.min(f.H_TRIGGER_AUTOSCROLL,
b.w/2);k=a.pageX-e.x;if(l("webkit")||l("opera"))k+=h.body().scrollLeft;w=0;0<k&&k<b.w&&(k<d?w=-d:k>b.w-d&&(w=d),y.scrollLeft+=w)}if(p||x){p=Math.min(f.V_TRIGGER_AUTOSCROLL,b.h/2);x=a.pageY-e.y;if(l("webkit")||l("opera"))x+=h.body().scrollTop;s=0;0<x&&x<b.h&&(x<p?s=-p:x>b.h-p&&(s=p),y.scrollTop+=s)}if(w||s)return}try{y=y.parentNode}catch(D){y=null}}f.autoScroll(a)};return f})},"dojox/grid/_View":function(){define("dojo dijit/registry ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/_base/sniff dojo/query dojo/_base/window dojo/text!./resources/View.html dojo/dnd/Source dijit/_Widget dijit/_TemplatedMixin dojox/html/metrics ./util dojo/_base/html ./_Builder dojo/dnd/Avatar dojo/dnd/Manager".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q,n,r,t,p,u,x,w,s){a=g("dojox.grid._View",[n,r],{defaultWidth:"18em",viewWidth:"",templateString:a,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:x._HeaderBuilder,_contentBuilderClass:x._ContentBuilder,postMixInProperties:function(){this.rowNodes={}},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");p.funnelEvents(this.contentNode,this,"doContentEvent","mouseover mouseout click dblclick contextmenu mousedown".split(" "));
p.funnelEvents(this.headerNode,this,"doHeaderEvent","dblclick mouseover mouseout mousemove mousedown click contextmenu".split(" "));this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);this.grid.isLeftToRight()||(this.headerNodeContainer.style.width="")},destroy:function(){u.destroy(this.headerNode);delete this.headerNode;for(var a in this.rowNodes)this._cleanupRowWidgets(this.rowNodes[a]),u.destroy(this.rowNodes[a]);this.rowNodes={};this.source&&this.source.destroy();
this.inherited(arguments)},focus:function(){b("ie")||b("webkit")||b("opera")?this.hiddenFocusNode.focus():this.scrollboxNode.focus()},setStructure:function(a){a=this.structure=a;a.width&&!isNaN(a.width)?this.viewWidth=a.width+"em":this.viewWidth=a.width||(a.noscroll?"auto":this.viewWidth);this._onBeforeRow=a.onBeforeRow||function(){};this._onAfterRow=a.onAfterRow||function(){};if(this.noscroll=a.noscroll)this.scrollboxNode.style.overflow="hidden";this.simpleStructure=Boolean(1==a.cells.length);this.testFlexCells();
this.updateStructure()},_cleanupRowWidgets:function(a){a&&c.forEach(k("[widgetId]",a).map(l.byNode),function(a){a._destroyOnRemove?(a.destroy(),delete a):a.domNode&&a.domNode.parentNode&&a.domNode.parentNode.removeChild(a.domNode)})},onBeforeRow:function(a,b){this._onBeforeRow(a,b);0<=a&&this._cleanupRowWidgets(this.getRowNode(a))},onAfterRow:function(a,b,e){this._onAfterRow(a,b,e);var d=this.grid;c.forEach(k(".dojoxGridStubNode",e),function(a){if(a&&a.parentNode){var b=a.getAttribute("linkWidget"),
c=window.parseInt(u.attr(a,"cellIdx"),10);d.getCell(c);(b=l.byId(b))?(a.parentNode.replaceChild(b.domNode,a),b._started||b.startup(),m.destroy(a)):a.innerHTML=""}},this)},testFlexCells:function(){this.flexCells=!1;for(var a=0,b;b=this.structure.cells[a];a++)for(var c=0,e;e=b[c];c++)e.view=this,this.flexCells=this.flexCells||e.isFlex();return this.flexCells},updateStructure:function(){this.header.update();this.content.update()},getScrollbarWidth:function(){var a=this.hasVScrollbar(),b=u.style(this.scrollboxNode,
"overflow");this.noscroll||!b||"hidden"==b?a=!1:"scroll"==b&&(a=!0);return a?t.getScrollbar().w:0},getColumnsWidth:function(){var a=this.headerContentNode;return a&&a.firstChild?a.firstChild.offsetWidth||u.style(a.firstChild,"width"):0},setColumnsWidth:function(a){this.headerContentNode.firstChild.style.width=a+"px";this.viewWidth&&(this.viewWidth=a+"px")},getWidth:function(){return this.viewWidth||this.getColumnsWidth()+this.getScrollbarWidth()+"px"},getContentWidth:function(){return Math.max(0,
u._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px"},render:function(){this.scrollboxNode.style.height="";this.renderHeader();0<=this._togglingColumn&&(this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn),this._togglingColumn=-1);var a=this.grid.layout.cells,c=d.hitch(this,function(b,c){!this.grid.isLeftToRight()&&(c=!c);for(var e=c?-1:1,d=this.header.getCellNodeIndex(b)+e,s=a[d];s&&s.getHeaderNode()&&"none"==s.getHeaderNode().style.display;)d+=e,s=a[d];return s?s.getHeaderNode():
null});if(this.grid.columnReordering&&this.simpleStructure){this.source&&this.source.destroy();this.bottomMarker&&u.destroy(this.bottomMarker);this.bottomMarker=u.byId("dojoxGrid_bottomMarker");this.topMarker&&u.destroy(this.topMarker);this.topMarker=u.byId("dojoxGrid_topMarker");this.bottomMarker||(this.bottomMarker=u.create("div",{id:"dojoxGrid_bottomMarker","class":"dojoxGridColPlaceBottom"},e.body()),this._hide(this.bottomMarker),this.topMarker=u.create("div",{id:"dojoxGrid_topMarker","class":"dojoxGridColPlaceTop"},
e.body()),this._hide(this.topMarker));this.arrowDim=u.contentBox(this.bottomMarker);var s=u.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new q(this.headerContentNode.firstChild.rows[0],{horizontal:!0,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:!1,onMouseDown:d.hitch(this,function(a){this.header.decorateEvent(a);if((this.header.overRightResizeArea(a)||this.header.overLeftResizeArea(a))&&this.header.canResize(a)&&!this.header.moveable)this.header.beginColumnResize(a);
else{if(this.grid.headerMenu)this.grid.headerMenu.onCancel(!0);a.button===(9>b("ie")?1:0)&&q.prototype.onMouseDown.call(this.source,a)}}),onMouseOver:d.hitch(this,function(a){var b=this.source;b._getChildByEvent(a)&&q.prototype.onMouseOver.apply(b,arguments)}),_markTargetAnchor:d.hitch(this,function(a){var b=this.source;if(!(b.current==b.targetAnchor&&b.before==a)){b.targetAnchor&&c(b.targetAnchor,b.before)&&b._removeItemClass(c(b.targetAnchor,b.before),b.before?"After":"Before");q.prototype._markTargetAnchor.call(b,
a);var e=a?b.targetAnchor:c(b.targetAnchor,b.before);a=0;e||(e=b.targetAnchor,a=u.contentBox(e).w+this.arrowDim.w/2+2);e=u.position(e,!0);a=Math.floor(e.x-this.arrowDim.w/2+a);u.style(this.bottomMarker,"visibility","visible");u.style(this.topMarker,"visibility","visible");u.style(this.bottomMarker,{left:a+"px",top:s+e.y+"px"});u.style(this.topMarker,{left:a+"px",top:e.y-this.arrowDim.h+"px"});b.targetAnchor&&c(b.targetAnchor,b.before)&&b._addItemClass(c(b.targetAnchor,b.before),b.before?"After":"Before")}}),
_unmarkTargetAnchor:d.hitch(this,function(){var a=this.source;a.targetAnchor&&(a.targetAnchor&&c(a.targetAnchor,a.before)&&a._removeItemClass(c(a.targetAnchor,a.before),a.before?"After":"Before"),this._hide(this.bottomMarker),this._hide(this.topMarker),q.prototype._unmarkTargetAnchor.call(a))}),destroy:d.hitch(this,function(){f.disconnect(this._source_conn);f.unsubscribe(this._source_sub);q.prototype.destroy.call(this.source);this.bottomMarker&&(u.destroy(this.bottomMarker),delete this.bottomMarker);
this.topMarker&&(u.destroy(this.topMarker),delete this.topMarker)}),onDndCancel:d.hitch(this,function(){q.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker)})});this._source_conn=f.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=f.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup()}},_hide:function(a){u.style(a,{top:"-10000px",visibility:"hidden"})},_onDndDropBefore:function(a,b,c){s.manager().target===this.source&&
(this.source._targetNode=this.source.targetAnchor,this.source._beforeTarget=this.source.before,b=this.grid.views.views,a=b[a.viewIndex],b=b[this.index],b!=a&&(a.convertColPctToFixed(),b.convertColPctToFixed()))},_onDndDrop:function(a,b,c){if(s.manager().target!==this.source)s.manager().source===this.source&&(this._removingColumn=!0);else{this._hide(this.bottomMarker);this._hide(this.topMarker);c=u.marginBox(b[0]).w;if(a.viewIndex!==this.index){var e=this.grid.views.views,d=e[a.viewIndex],e=e[this.index];
d.viewWidth&&"auto"!=d.viewWidth&&d.setColumnsWidth(d.getColumnsWidth()-c);e.viewWidth&&"auto"!=e.viewWidth&&e.setColumnsWidth(e.getColumnsWidth())}c=this.source._targetNode;d=this.source._beforeTarget;!this.grid.isLeftToRight()&&(d=!d);var e=this.grid.layout,f=this.index;delete this.source._targetNode;delete this.source._beforeTarget;e.moveColumn(a.viewIndex,f,b[0]?u.attr(b[0],"idx"):null,c?u.attr(c,"idx"):null,d)}},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);
this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);p.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode])},_getHeaderContent:function(a){var b=a.name||a.grid.getCellName(a);/^\s+$/.test(b)&&(b="\x26nbsp;");var c=['\x3cdiv class\x3d"dojoxGridSortNode'];a.index!=a.grid.getSortIndex()?c.push('"\x3e'):c=c.concat([" ",0<a.grid.sortInfo?"dojoxGridSortUp":"dojoxGridSortDown",'"\x3e\x3cdiv class\x3d"dojoxGridArrowButtonChar"\x3e',
0<a.grid.sortInfo?"\x26#9650;":"\x26#9660;",'\x3c/div\x3e\x3cdiv class\x3d"dojoxGridArrowButtonNode" role\x3d"presentation"\x3e\x3c/div\x3e','\x3cdiv class\x3d"dojoxGridColCaption"\x3e']);c=c.concat([b,"\x3c/div\x3e\x3c/div\x3e"]);return c.join("")},resize:function(){this.adaptHeight();this.adaptWidth()},hasHScrollbar:function(a){var b=this._hasHScroll||!1;if(void 0==this._hasHScroll||a)this.noscroll?this._hasHScroll=!1:(a=u.style(this.scrollboxNode,"overflow"),this._hasHScroll="hidden"==a?!1:"scroll"==
a?!0:this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);b!==this._hasHScroll&&this.grid.update();return this._hasHScroll},hasVScrollbar:function(a){var b=this._hasVScroll||!1;if(void 0==this._hasVScroll||a)this.noscroll?this._hasVScroll=!1:(a=u.style(this.scrollboxNode,"overflow"),this._hasVScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);b!==this._hasVScroll&&this.grid.update();return this._hasVScroll},convertColPctToFixed:function(){var a=
!1;this.grid.initialWidth="";var b=k("th",this.headerContentNode),e=c.map(b,function(b,c){var e=b.style.width;u.attr(b,"vIdx",c);if(e&&"%"==e.slice(-1))a=!0;else if(e&&"px"==e.slice(-2))return window.parseInt(e,10);return u.contentBox(b).w});return a?(c.forEach(this.grid.layout.cells,function(a,b){if(a.view==this){var c=a.view.getHeaderCellNode(a.index);if(c&&u.hasAttr(c,"vIdx")){var d=window.parseInt(u.attr(c,"vIdx"));this.setColWidth(b,e[d]);u.removeAttr(c,"vIdx")}}},this),!0):!1},adaptHeight:function(a){if(!this.grid._autoHeight){var b=
this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10)||this.domNode.clientHeight;if(!a&&(a=this.noscroll))a:{for(var c=0;c<this.grid.views.views.length;++c)if(a=this.grid.views.views[c],a!==this&&a.hasHScrollbar()){a=!0;break a}a=!1}a&&(b-=t.getScrollbar().h);p.setStyleHeightPx(this.scrollboxNode,b)}this.hasVScrollbar(!0)},adaptWidth:function(){this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);var a=
this.scrollboxNode.offsetWidth-this.getScrollbarWidth();this._removingColumn?(a=Math.min(a,this.getColumnsWidth())+"px",this._removingColumn=!1):a=Math.max(a,this.getColumnsWidth())+"px";this.contentNode.style.width=a;this.hasHScrollbar(!0)},setSize:function(a,b){var c=this.domNode.style,e=this.headerNode.style;a&&(c.width=a,e.width=a);c.height=0<=b?b+"px":""},renderRow:function(a){var b=this.createRowNode(a);this.buildRow(a,b);return b},createRowNode:function(a){var b=document.createElement("div");
b.className=this.classTag+"Row";this instanceof h.grid._RowSelector?u.attr(b,"role","presentation"):(u.attr(b,"role","row"),"none"!=this.grid.selectionMode&&b.setAttribute("aria-selected","false"));b[p.gridViewTag]=this.id;b[p.rowIndexTag]=a;return this.rowNodes[a]=b},buildRow:function(a,b){this.buildRowContent(a,b);this.styleRow(a,b)},buildRowContent:function(a,b){b.innerHTML=this.content.generateHtml(a,a);this.flexCells&&this.contentWidth&&(b.firstChild.style.width=this.contentWidth);p.fire(this,
"onAfterRow",[a,this.structure.cells,b])},rowRemoved:function(a){0<=a&&this._cleanupRowWidgets(this.getRowNode(a));this.grid.edit.save(this,a);delete this.rowNodes[a]},getRowNode:function(a){return this.rowNodes[a]},getCellNode:function(a,b){var c=this.getRowNode(a);if(c)return this.content.getCellNode(c,b)},getHeaderCellNode:function(a){if(this.headerContentNode)return this.header.getCellNode(this.headerContentNode,a)},styleRow:function(a,b){b._style=void 0==b.style.cssText?b.getAttribute("style"):
b.style.cssText;this.styleRowNode(a,b)},styleRowNode:function(a,b){b&&this.doStyleRowNode(a,b)},doStyleRowNode:function(a,b){this.grid.styleRowNode(a,b)},updateRow:function(a){var b=this.getRowNode(a);b&&(b.style.height="",this.buildRow(a,b));return b},updateRowStyles:function(a){this.styleRowNode(a,this.getRowNode(a))},lastTop:0,firstScroll:0,_nativeScroll:!1,doscroll:function(a){if(13<=b("ff")||b("chrome"))this._nativeScroll=!0;a=this.grid.isLeftToRight();if(2>this.firstScroll){if(!a&&1==this.firstScroll||
a&&0===this.firstScroll){var c=u.marginBox(this.headerNodeContainer);b("ie")?this.headerNodeContainer.style.width=c.w+this.getScrollbarWidth()+"px":b("mozilla")&&(this.headerNodeContainer.style.width=c.w-this.getScrollbarWidth()+"px",this.scrollboxNode.scrollLeft=a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth)}this.firstScroll++}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;a=this.scrollboxNode.scrollTop;a!==
this.lastTop&&this.grid.scrollTo(a);this._nativeScroll=!1},setScrollTop:function(a){this.lastTop=a;this._nativeScroll||(this.scrollboxNode.scrollTop=a);return this.scrollboxNode.scrollTop},doContentEvent:function(a){if(this.content.decorateEvent(a))this.grid.onContentEvent(a)},doHeaderEvent:function(a){if(this.header.decorateEvent(a))this.grid.onHeaderEvent(a)},dispatchContentEvent:function(a){return this.content.dispatchEvent(a)},dispatchHeaderEvent:function(a){return this.header.dispatchEvent(a)},
setColWidth:function(a,b){this.grid.setCellWidth(a,b+"px")},update:function(){if(this.domNode){this.content.update();this.grid.update();var a=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=a;this.headerNode.scrollLeft=a}}});var y=g("dojox.grid._GridAvatar",w,{construct:function(){var a=e.doc,b=a.createElement("table");b.cellPadding=b.cellSpacing="0";b.className="dojoxGridDndAvatar";b.style.position="absolute";b.style.zIndex=1999;b.style.margin="0px";var c=a.createElement("tbody"),d=a.createElement("tr"),
f=a.createElement("td"),p=a.createElement("td");d.className="dojoxGridDndAvatarItem";p.className="dojoxGridDndAvatarItemImage";p.style.width="16px";var n=this.manager.source;if(n.creator)n=n._normalizedCreator(n.getItem(this.manager.nodes[0].id).data,"avatar").node;else{var n=this.manager.nodes[0].cloneNode(!0),r,k;"tr"==n.tagName.toLowerCase()?(r=a.createElement("table"),k=a.createElement("tbody"),k.appendChild(n),r.appendChild(k),n=r):"th"==n.tagName.toLowerCase()&&(r=a.createElement("table"),k=
a.createElement("tbody"),a=a.createElement("tr"),r.cellPadding=r.cellSpacing="0",a.appendChild(n),k.appendChild(a),r.appendChild(k),n=r)}n.id="";f.appendChild(n);d.appendChild(p);d.appendChild(f);u.style(d,"opacity",0.9);c.appendChild(d);b.appendChild(c);this.node=b;b=s.manager();this.oldOffsetY=b.OFFSET_Y;b.OFFSET_Y=1},destroy:function(){s.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments)}}),D=s.manager().makeAvatar;s.manager().makeAvatar=function(){return void 0!==this.source.viewIndex&&
!u.hasClass(e.body(),"dijit_a11y")?new y(this):D.call(s.manager())};return a})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(m,l,h,g){return m("dijit.CheckedMenuItem",h,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:g,checked:!1,_setCheckedAttr:function(c){this.domNode.setAttribute("aria-checked",c?"true":"false");this._set("checked",c)},iconClass:"",role:"menuitemcheckbox",
checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(c){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));this.onClick(c)}})})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(m,l,h,g,c,d,f){c.add("highcontrast",function(){var b=f.doc.createElement("div");b.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(l.blankGif||m.toUrl("./resources/blank.gif"))+'");';f.body().appendChild(b);var d=g.getComputedStyle(b),e=d.backgroundImage,d=d.borderTopColor==d.borderRightColor||e&&("none"==e||"url(invalid-url:)"==e);8>=c("ie")?b.outerHTML="":f.body().removeChild(b);return d});d(function(){c("highcontrast")&&h.add(f.body(),"dj_a11y")});return c})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q,n,r,t,p,u,x,w,s,y,D,v){function z(a){return function(c){b[c?"set":"remove"](this.domNode,a,c);this._set(a,c)}}n.add("dijit-legacy-requires",!r.isAsync);n.add("dojo-bidi",!1);n("dijit-legacy-requires")&&u(0,function(){m(["dijit/_base/manager"])});var C={};g=d("dijit._WidgetBase",[x,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:z("lang"),dir:"",_setDirAttr:z("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:g.blankGif||m.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},e;for(e in b.attributeMap)c.push(e);for(e in b)/^on/.test(e)&&(a[e.substring(2).toLowerCase()]=e),/^_set[A-Z](.*)Attr$/.test(e)&&(e=e.charAt(4).toLowerCase()+e.substr(5,
e.length-9),(!b.attributeMap||!(e in b.attributeMap))&&c.push(e))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=f.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,t.mixin(this,a));this.postMixInProperties();this.id||(this.id=v.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=s.body(this.ownerDocument);v.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&(e.parentNode&&this.domNode!==e)&&(e.parentNode.replaceChild(this.domNode,e),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);l.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(l.map(a,function(a){return a+"Rtl"})));k.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,l.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&t.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();l.forEach(this._connects,t.hitch(this,"disconnect"));l.forEach(this._supportingWidgets,b);this.domNode&&l.forEach(v.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
v.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?b.remove(this.domNode,"widgetId"):e.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||e.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){l.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;t.isObject(a)?
q.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,e){e=3<=arguments.length?e:this.attributeMap[a];l.forEach(t.isArray(e)?e:[e],function(e){var d=this[e.node||e||"domNode"];switch(e.type||"attribute"){case "attribute":t.isFunction(c)&&(c=t.hitch(this,c));e=e.attribute?e.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?b.set(d,e,c):d.set(e,c);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(c));
break;case "innerHTML":d.innerHTML=c;break;case "class":k.replace(d,c,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var e=this[c.s];if(t.isFunction(e))var d=e.apply(this,Array.prototype.slice.call(arguments,1));else{var e=this.focusNode&&!t.isFunction(this.focusNode)?"focusNode":"domNode",s=this[e]&&this[e].tagName,f;if(f=s)if(!(f=
C[s])){f=this[e];var p={},n;for(n in f)p[n.toLowerCase()]=!0;f=C[s]=p}n=f;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:n&&c.l in n&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?e:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",
g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;if(this._created&&!(c===b||c!==c&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var e,d=this["on"+a];d&&(e=d.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&
p.emit(this.domNode,a.toLowerCase(),b);return e},on:function(a,b){var c=this._onMap(a);return c?h.after(this,c,b,!0):this.own(p(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},e;for(e in b.prototype)/^on/.test(e)&&(c[e.replace(/^on/,"").toLowerCase()]=e)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?v.findWidgets(this.containerNode):
[]},getParent:function(){return v.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,e){return this.own(c.connect(a,b,this,e))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(w.subscribe(a,t.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:a.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=q.get(this.domNode,"display")},placeAt:function(a,b){var c=!a.tagName&&
v.byId(a);c&&c.addChild&&(!b||"number"===typeof b)?c.addChild(this,b):(c=c&&"domNode"in c?c.containerNode&&!/after|before|replace/.test(b||"")?c.containerNode:c.domNode:f.byId(a,this.ownerDocument),e.place(this.domNode,c,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var c=setTimeout(t.hitch(this,function(){c&&(c=null,this._destroyed||t.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});n("dojo-bidi")&&
g.extend(D);return g})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(m,l,h,g){var c=h.getObject("dojo.dnd",!0);c.getCopyKeyState=function(c){return c[m("mac")?"metaKey":"ctrlKey"]};c._uniqueId=0;c.getUniqueId=function(){var d;do d=l._scopeName+"Unique"+ ++c._uniqueId;while(g.byId(d));return d};c._empty={};c.isFormElement=function(c){c=c.target;3==c.nodeType&&(c=c.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+
" ")};return c})},"dojox/main":function(){define(["dojo/_base/kernel"],function(m){return m.dojox})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(m,l,h,g,c,d,f,b,k,e){function a(a,b,c){return t&&c?function(a,b){return d(a,c,b)}:u?function(c,e){var s=d(c,b,function(a){e.call(this,a);A=(new Date).getTime()}),f=d(c,a,function(a){(!A||(new Date).getTime()>A+1E3)&&e.call(this,a)});return{remove:function(){s.remove();
f.remove()}}}:function(b,c){return d(b,a,c)}}function q(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function n(a,b,c){var f=q(a.target);if(w=!a.target.disabled&&f&&f.dojoClick)if(y=(s="useTarget"==w)?f:a.target,s&&a.preventDefault(),D=a.changedTouches?a.changedTouches[0].pageX-e.global.pageXOffset:a.clientX,v=a.changedTouches?a.changedTouches[0].pageY-e.global.pageYOffset:a.clientY,z=("object"==typeof w?w.x:"number"==typeof w?w:0)||4,C=("object"==typeof w?w.y:"number"==typeof w?w:
0)||4,!x){x=!0;var n=function(a){w=s?h.isDescendant(e.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-e.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-e.global.pageYOffset:a.clientY),y):w&&(a.changedTouches?a.changedTouches[0].target:a.target)==y&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-e.global.pageXOffset:a.clientX)-D)<=z&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-e.global.pageYOffset:a.clientY)-v)<=C};e.doc.addEventListener(b,function(a){n(a);
s&&a.preventDefault()},!0);e.doc.addEventListener(c,function(a){n(a);if(w){F=(new Date).getTime();var b=s?y:a.target;"LABEL"===b.tagName&&(b=h.byId(b.getAttribute("for"))||b);var c=a.changedTouches?a.changedTouches[0]:a,e=document.createEvent("MouseEvents");e._dojo_click=!0;e.initMouseEvent("click",!0,!0,a.view,a.detail,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);setTimeout(function(){d.emit(b,"click",e);F=(new Date).getTime()},0)}},!0);a=function(a){e.doc.addEventListener(a,
function(b){!b._dojo_click&&((new Date).getTime()<=F+1E3&&!("INPUT"==b.target.tagName&&g.contains(b.target,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=b.target.tagName||"radio"==b.target.type||"checkbox"==b.target.type)&&"TEXTAREA"!=b.target.tagName&&"AUDIO"!=b.target.tagName&&"VIDEO"!=b.target.tagName)&&b.preventDefault())},!0)};a("click");a("mousedown");a("mouseup")}}var r=5>f("ios"),t=f("pointer-events")||f("MSPointer"),
p=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=f("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),u=f("touch-events"),x,w,s=!1,y,D,v,z,C,F,A,B;t?k(function(){e.doc.addEventListener(p.down,function(a){n(a,p.move,p.up)},!0)}):u&&k(function(){function a(b){var e=c.delegate(b,{bubbles:!0});6<=f("ios")&&(e.touches=b.touches,e.altKey=b.altKey,e.changedTouches=b.changedTouches,e.ctrlKey=b.ctrlKey,e.metaKey=b.metaKey,e.shiftKey=b.shiftKey,
e.targetTouches=b.targetTouches);return e}B=e.body();e.doc.addEventListener("touchstart",function(a){A=(new Date).getTime();var b=B;B=a.target;d.emit(b,"dojotouchout",{relatedTarget:B,bubbles:!0});d.emit(B,"dojotouchover",{relatedTarget:b,bubbles:!0});n(a,"touchmove","touchend")},!0);d(e.doc,"touchmove",function(b){A=(new Date).getTime();var c=e.doc.elementFromPoint(b.pageX-(r?0:e.global.pageXOffset),b.pageY-(r?0:e.global.pageYOffset));c&&(B!==c&&(d.emit(B,"dojotouchout",{relatedTarget:c,bubbles:!0}),
d.emit(c,"dojotouchover",{relatedTarget:B,bubbles:!0}),B=c),d.emit(c,"dojotouchmove",a(b))||b.preventDefault())});d(e.doc,"touchend",function(b){A=(new Date).getTime();var c=e.doc.elementFromPoint(b.pageX-(r?0:e.global.pageXOffset),b.pageY-(r?0:e.global.pageYOffset))||e.body();d.emit(c,"dojotouchend",a(b))})});l={press:a("mousedown","touchstart",p.down),move:a("mousemove","dojotouchmove",p.move),release:a("mouseup","dojotouchend",p.up),cancel:a(b.leave,"touchcancel",t?p.cancel:null),over:a("mouseover",
"dojotouchover",p.over),out:a("mouseout","dojotouchout",p.out),enter:b._eventHandler(a("mouseover","dojotouchover",p.over)),leave:b._eventHandler(a("mouseout","dojotouchout",p.out))};return m.touch=l})},"dojox/grid/cells/_base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dijit/_Widget ../util".split(" "),function(m,l,h,g,c,d,f,b,k,e,a,q){var n=l("dojox.grid._DeferredTextWidget",
a,{deferred:null,_destroyOnRemove:!0,postCreate:function(){this.deferred&&this.deferred.addBoth(h.hitch(this,function(a){this.domNode&&(this.domNode.innerHTML=a)}))}}),r=function(){setTimeout(h.hitch.apply(m,arguments),0)},t=l("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:!1,alwaysEditing:!1,formatter:null,defaultValue:"...",value:null,hidden:!1,noresize:!1,draggable:!0,_valueProp:"value",_formatPending:!1,constructor:function(a){this._props=a||{};h.mixin(this,a);void 0===this.draggable&&
(this.draggable=!0)},_defaultFormat:function(a,b){var c=this.grid.formatterScope||this,d=this.formatter;d&&(c&&"string"==typeof d)&&(d=this.formatter=c[d]);c=a!=this.defaultValue&&d?d.apply(c,b):a;if("undefined"==typeof c)return this.defaultValue;c&&c.addBoth&&(c=new n({deferred:c},e.create("span",{innerHTML:this.defaultValue})));return c&&c.declaredClass&&c.startup?"\x3cdiv class\x3d'dojoxGridStubNode' linkWidget\x3d'"+c.id+"' cellIdx\x3d'"+this.index+"'\x3e"+this.defaultValue+"\x3c/div\x3e":c},
format:function(a,b){var c=this.grid.edit.info,e=this.get?this.get(a,b):this.value||this.defaultValue,e=e&&e.replace&&this.grid.escapeHTMLInData?e.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):e;return this.editable&&(this.alwaysEditing||c.rowIndex==a&&c.cell==this)?this.formatEditing(c.value?c.value:e,a):this._defaultFormat(e,[e,a,this])},formatEditing:function(a,b){},getNode:function(a){return this.view.getCellNode(a,this.index)},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index)},
getEditNode:function(a){return(this.getNode(a)||0).firstChild||0},canResize:function(){var a=this.unitWidth;return a&&"auto"!==a},isFlex:function(){var a=this.unitWidth;return a&&h.isString(a)&&("auto"==a||"%"==a.slice(-1))},applyEdit:function(a,b){this.getNode(b)&&this.grid.edit.applyCellEdit(a,this,b)},cancelEdit:function(a){this.grid.doCancelEdit(a)},_onEditBlur:function(a){this.grid.edit.isEditCell(a,this.index)&&this.grid.edit.apply()},registerOnBlur:function(a,b){this.commitOnBlur&&c.connect(a,
"onblur",function(a){setTimeout(h.hitch(this,"_onEditBlur",b),250)})},needFormatNode:function(a,b){this._formatPending=!0;r(this,"_formatNode",a,b)},cancelFormatNode:function(){this._formatPending=!1},_formatNode:function(a,c){this._formatPending&&(this._formatPending=!1,f("ie")||b.setSelectable(this.grid.domNode,!0),this.formatNode(this.getEditNode(c),a,c))},formatNode:function(a,b,c){f("ie")?r(this,"focus",c,a):this.focus(c,a)},dispatchEvent:function(a,b){if(a in this)return this[a](b)},getValue:function(a){return this.getEditNode(a)[this._valueProp]},
setValue:function(a,b){var c=this.getEditNode(a);c&&(c[this._valueProp]=b)},focus:function(a,b){var c=b||this.getEditNode(a);try{q.fire(c,"focus"),q.fire(c,"select")}catch(e){}},save:function(a){this.value=this.value||this.getValue(a)},restore:function(a){this.setValue(a,this.value)},_finish:function(a){b.setSelectable(this.grid.domNode,!1);this.cancelFormatNode()},apply:function(a){this.applyEdit(this.getValue(a),a);this._finish(a)},cancel:function(a){this.cancelEdit(a);this._finish(a)}});t.markupFactory=
function(a,b){var c=h.trim(k.get(a,"formatter")||"");c&&(b.formatter=h.getObject(c)||c);if(c=h.trim(k.get(a,"get")||""))b.get=h.getObject(c);c=function(b,c,e){var d=h.trim(k.get(a,b)||"");d&&(c[e||b]="false"!=d.toLowerCase())};c("sortDesc",b);c("editable",b);c("alwaysEditing",b);c("noresize",b);c("draggable",b);if(c=h.trim(k.get(a,"loadingText")||k.get(a,"defaultValue")||""))b.defaultValue=c;c=function(b,c,e){var d=h.trim(k.get(a,b)||"")||void 0;d&&(c[e||b]=d)};c("styles",b);c("headerStyles",b);c("cellStyles",
b);c("classes",b);c("headerClasses",b);c("cellClasses",b)};var p=t.Cell=l("dojox.grid.cells.Cell",t,{constructor:function(){this.keyFilter=this.keyFilter},keyFilter:null,formatEditing:function(a,b){this.needFormatNode(a,b);return'\x3cinput class\x3d"dojoxGridInput" type\x3d"text" value\x3d"'+a+'"\x3e'},formatNode:function(a,b,c){this.inherited(arguments);this.registerOnBlur(a,c)},doKey:function(a){this.keyFilter&&-1==String.fromCharCode(a.charCode).search(this.keyFilter)&&g.stop(a)},_finish:function(a){this.inherited(arguments);
var b=this.getEditNode(a);try{q.fire(b,"blur")}catch(c){}}});p.markupFactory=function(a,b){t.markupFactory(a,b);var c=h.trim(k.get(a,"keyFilter")||"");c&&(b.keyFilter=RegExp(c))};(t.RowIndex=l("dojox.grid.cells.RowIndex",p,{name:"Row",postscript:function(){this.editable=!1},get:function(a){return a+1}})).markupFactory=function(a,b){p.markupFactory(a,b)};(t.Select=l("dojox.grid.cells.Select",p,{options:null,values:null,returnIndex:-1,constructor:function(a){this.values=this.values||this.options},formatEditing:function(a,
b){this.needFormatNode(a,b);for(var c=['\x3cselect class\x3d"dojoxGridSelect"\x3e'],e=0,d,f;void 0!==(d=this.options[e])&&void 0!==(f=this.values[e]);e++)f=f.replace?f.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):f,d=d.replace?d.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):d,c.push("\x3coption",a==f?" selected":"",' value\x3d"'+f+'"',"\x3e",d,"\x3c/option\x3e");c.push("\x3c/select\x3e");return c.join("")},_defaultFormat:function(a,b){var c=this.inherited(arguments);if(!this.formatter&&this.values&&
this.options){var e=d.indexOf(this.values,c);0<=e&&(c=this.options[e])}return c},getValue:function(a){var b=this.getEditNode(a);if(b)return a=b.selectedIndex,b=b.options[a],-1<this.returnIndex?a:b.value||b.innerHTML}})).markupFactory=function(a,b){p.markupFactory(a,b);var c=h.trim(k.get(a,"options")||"");if(c){var e=c.split(",");e[0]!=c&&(b.options=e)}if(c=h.trim(k.get(a,"values")||""))e=c.split(","),e[0]!=c&&(b.values=e)};var u=t.AlwaysEdit=l("dojox.grid.cells.AlwaysEdit",p,{alwaysEditing:!0,_formatNode:function(a,
b){this.formatNode(this.getEditNode(b),a,b)},applyStaticValue:function(a){var b=this.grid.edit;b.applyCellEdit(this.getValue(a),this,a);b.start(this,a,!0)}});u.markupFactory=function(a,b){p.markupFactory(a,b)};(t.Bool=l("dojox.grid.cells.Bool",u,{_valueProp:"checked",formatEditing:function(a,b){return'\x3cinput class\x3d"dojoxGridInput" type\x3d"checkbox"'+(a?' checked\x3d"checked"':"")+' style\x3d"width: auto" /\x3e'},doclick:function(a){"INPUT"==a.target.tagName&&this.applyStaticValue(a.rowIndex)}})).markupFactory=
function(a,b){u.markupFactory(a,b)};return t})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(m,l,h,g){return m("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var d=this._attrPairNames;return d[c]?d[c]:d[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,d){return"function"===typeof this[d.g]?this[d.g]():this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,
d){if("object"===typeof c){for(var f in c)c.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,c[f]);return this}f=this._getAttrNames(c);var b=this._get(c,f);f=this[f.s];var k;"function"===typeof f?k=f.apply(this,Array.prototype.slice.call(arguments,1)):this[c]=d;if(this._watchCallbacks){var e=this;g(k,function(){e._watchCallbacks(c,b,d)})}return this},_changeAttrValue:function(c,d){var f=this.get(c);this[c]=d;this._watchCallbacks&&this._watchCallbacks(c,f,d);return this},watch:function(c,d){var f=
this._watchCallbacks;if(!f)var b=this,f=this._watchCallbacks=function(a,c,e,d){var k=function(d){if(d){d=d.slice();for(var f=0,r=d.length;f<r;f++)d[f].call(b,a,c,e)}};k(f["_"+a]);d||k(f["*"])};!d&&"function"===typeof c?(d=c,c="*"):c="_"+c;var k=f[c];"object"!==typeof k&&(k=f[c]=[]);k.push(d);var e={};e.unwatch=e.remove=function(){var a=h.indexOf(k,d);-1<a&&k.splice(a,1)};return e}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q){l=l("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);m.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,d.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(m.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,e={};m.forEach(c.className.split(" "),function(a){e[a]=!0});"_stateClasses"in this&&m.forEach(this._stateClasses,function(a){delete e[a]});m.forEach(b,
function(a){e[a]=!0});var d=[],f;for(f in e)d.push(f);c.className=d.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function e(c){g.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":g.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":g.toggle(a,b+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":e(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":e(!1);break;case "focus":case "focusin":g.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":g.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});b(function(){function b(a,c,e){if(!e||!h.isDescendant(e,c))for(;c&&c!=e;c=c.parentNode)if(c._cssState){var d=q.getEnclosingWidget(c);d&&(c==d.domNode?d._cssMouseEvent(a):d._subnodeCssMouseEvent(c,c._cssState,a))}}var c=e.body(),d;f(c,
k.over,function(a){b(a,a.target,a.relatedTarget)});f(c,k.out,function(a){b(a,a.target,a.relatedTarget)});f(c,a.press,function(a){d=a.target;b(a,d)});f(c,a.release,function(a){b(a,d);d=null});f(c,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=q.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return l})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q){return l("dojo.dnd.Moveable",[d],{handle:"",delay:0,skip:!1,constructor:function(b,c){this.node=g.byId(b);c||(c={});this.handle=c.handle?g.byId(c.handle):null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:a;this.events=[f(this.handle,k.press,h.hitch(this,"onMouseDown")),f(this.handle,"dragstart",h.hitch(this,"onSelectStart")),f(this.handle,"selectstart",h.hitch(this,"onSelectStart"))]},markupFactory:function(a,
b,c){return new c(b,a)},destroy:function(){m.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!e.isFormElement(a)){if(this.delay)this.events.push(f(this.handle,k.move,h.hitch(this,"onMouseMove")),f(this.handle,k.release,h.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);a.stopPropagation();a.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||
Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!e.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){b.publish("/dnd/move/start",a);c.add(q.body(),"dojoMove");c.add(this.node,"dojoMoveItem")},
onMoveStop:function(a){b.publish("/dnd/move/stop",a);c.remove(q.body(),"dojoMove");c.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(m,l,h,g){return m("dojox.grid.Selection",null,{constructor:function(c){this.grid=
c;this.selected=[];this.setMode(c.selectionMode)},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(c){this.selected.length&&this.deselectAll();this.mode="extended"!=c&&"multiple"!=c&&"single"!=c&&"none"!=c?"extended":c},onCanSelect:function(c){return this.grid.onCanSelect(c)},onCanDeselect:function(c){return this.grid.onCanDeselect(c)},onSelected:function(c){},onDeselected:function(c){},onChanging:function(){},onChanged:function(){},isSelected:function(c){return"none"==
this.mode?!1:this.selected[c]},getFirstSelected:function(){if(!this.selected.length||"none"==this.mode)return-1;for(var c=0,d=this.selected.length;c<d;c++)if(this.selected[c])return c;return-1},getNextSelected:function(c){if("none"==this.mode)return-1;c+=1;for(var d=this.selected.length;c<d;c++)if(this.selected[c])return c;return-1},getSelected:function(){for(var c=[],d=0,f=this.selected.length;d<f;d++)this.selected[d]&&c.push(d);return c},getSelectedCount:function(){for(var c=0,d=0;d<this.selected.length;d++)this.selected[d]&&
c++;return c},_beginUpdate:function(){if(0===this.updating)this.onChanging();this.updating++},_endUpdate:function(){this.updating--;if(0===this.updating)this.onChanged()},select:function(c){"none"!=this.mode&&("multiple"!=this.mode?(this.deselectAll(c),this.addToSelection(c)):this.toggleSelect(c))},addToSelection:function(c){if("none"!=this.mode)if(h.isArray(c))l.forEach(c,this.addToSelection,this);else if(c=Number(c),this.selected[c])this.selectedIndex=c;else if(!1!==this.onCanSelect(c)){this.selectedIndex=
c;var d=this.grid.getRowNode(c);d&&g.set(d,"aria-selected","true");this._beginUpdate();this.selected[c]=!0;this.onSelected(c);this._endUpdate()}},deselect:function(c){if("none"!=this.mode)if(h.isArray(c))l.forEach(c,this.deselect,this);else if(c=Number(c),this.selectedIndex==c&&(this.selectedIndex=-1),this.selected[c]&&!1!==this.onCanDeselect(c)){var d=this.grid.getRowNode(c);d&&g.set(d,"aria-selected","false");this._beginUpdate();delete this.selected[c];this.onDeselected(c);this._endUpdate()}},setSelected:function(c,
d){this[d?"addToSelection":"deselect"](c)},toggleSelect:function(c){h.isArray(c)?l.forEach(c,this.toggleSelect,this):this.setSelected(c,!this.selected[c])},_range:function(c,d,f){var b=0<=c?c:d;c=d;b>c&&(c=b,b=d);for(d=b;d<=c;d++)f(d)},selectRange:function(c,d){this._range(c,d,h.hitch(this,"addToSelection"))},deselectRange:function(c,d){this._range(c,d,h.hitch(this,"deselect"))},insert:function(c){this.selected.splice(c,0,!1);this.selectedIndex>=c&&this.selectedIndex++},remove:function(c){this.selected.splice(c,
1);this.selectedIndex>=c&&this.selectedIndex--},deselectAll:function(c){for(var d in this.selected)d!=c&&!0===this.selected[d]&&this.deselect(d)},clickSelect:function(c,d,f){if("none"!=this.mode){this._beginUpdate();if("extended"!=this.mode)this.select(c);else{if(!f||0>this.rangeStartIndex)this.rangeStartIndex=c;d||this.deselectAll(c);f?this.selectRange(this.rangeStartIndex,c):d?this.toggleSelect(c):this.addToSelection(c)}this._endUpdate()}},clickSelectEvent:function(c){this.clickSelect(c.rowIndex,
dojo.isCopyKey(c),c.shiftKey)},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate()}})})},"dojox/grid/_Grid":function(){define("dojo/_base/kernel ../main dojo/_base/declare ./_Events ./_Scroller ./_Layout ./_View ./_ViewManager ./_RowManager ./_FocusManager ./_EditManager ./Selection ./_RowSelector ./util dijit/_Widget dijit/_TemplatedMixin dijit/CheckedMenuItem dojo/text!./resources/_Grid.html dojo/string dojo/_base/array dojo/_base/lang dojo/_base/sniff dojox/html/metrics dojo/_base/html dojo/query dojo/dnd/common dojo/i18n!dijit/nls/loading".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q,n,r,t,p,u,x,w,s,y,D,v,z,C){m.isCopyKey||(m.isCopyKey=m.dnd.getCopyKeyState);h=h("dojox.grid._Grid",[t,p,g],{templateString:x,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:!1,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:!0,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:!1,selectionMode:"extended",rowSelector:"",columnReordering:!1,headerMenu:null,placeholderLabel:"GridColumns",selectable:!1,_click:null,loadingMessage:"\x3cspan class\x3d'dojoxGridLoading'\x3e${loadingState}\x3c/span\x3e",
errorMessage:"\x3cspan class\x3d'dojoxGridError'\x3e${errorState}\x3c/span\x3e",noDataMessage:"",escapeHTMLInData:!0,formatterScope:null,editable:!1,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:d,buildRendering:function(){this.inherited(arguments);this.domNode.getAttribute("tabIndex")||(this.domNode.tabIndex="0");this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");
this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");v.initOnFontResize();this.connect(v,"onFontResize","textSizeChanged");r.funnelEvents(this.domNode,this,"doKeyEvent",r.keyEvents);"none"!=this.selectionMode&&this.domNode.setAttribute("aria-multiselectable","single"==this.selectionMode?"false":"true");z.addClass(this.domNode,this.classTag);this.isLeftToRight()||z.addClass(this.domNode,this.classTag+"Rtl");0<this.rowHeight&&z.addClass(this.viewsNode,
this.classTag+"FixedRowHeight")},postMixInProperties:function(){this.inherited(arguments);var a=m.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=w.substitute(this.loadingMessage,a);this.errorMessage=w.substitute(this.errorMessage,a);this.srcNodeRef&&this.srcNodeRef.style.height&&(this.height=this.srcNodeRef.style.height);this._setAutoHeightAttr(this.autoHeight,!0);this.lastScrollTop=this.scrollTop=0},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);
this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);this.domNode&&(this.autoWidth&&this.initialWidth)&&(this.domNode.style.width=this.initialWidth);this.domNode&&!this.editable&&z.attr(this.domNode,"aria-readonly","true")},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.scroller&&(this.scroller.destroy(),delete this.scroller);this.edit.destroy();delete this.edit;this.views.destroyViews();this.focus&&(this.focus.destroy(),
delete this.focus);this.headerMenu&&this._placeholders.length&&(s.forEach(this._placeholders,function(a){a.unReplace(!0)}),this.headerMenu.unBindDomNode(this.viewsHeaderNode));this.inherited(arguments)},_setAutoHeightAttr:function(a,b){"string"==typeof a&&(a=!a||"false"==a?!1:"true"==a?!0:window.parseInt(a,10));"number"==typeof a&&(isNaN(a)&&(a=!1),0>a?a=!0:0===a&&(a=!1));this.autoHeight=a;this._autoHeight="boolean"==typeof a?a:"number"==typeof a?a>=this.get("rowCount"):!1;this._started&&!b&&this.render()},
_getRowCountAttr:function(){return this.updating&&this.invalidated&&void 0!=this.invalidated.rowCount?this.invalidated.rowCount:this.rowCount},textSizeChanged:function(){this.render()},sizeChange:function(){this.update()},createManagers:function(){this.rows=new k(this);this.focus=new e(this);this.edit=new a(this)},createSelection:function(){this.selection=new q(this)},createScroller:function(){this.scroller=new c;this.scroller.grid=this;this.scroller.renderRow=y.hitch(this,"renderRow");this.scroller.removeRow=
y.hitch(this,"rowRemoved")},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn")},onMoveColumn:function(){this.update()},onResizeColumn:function(a){},createViews:function(){this.views=new b(this);this.views.createView=y.hitch(this,"createView")},createView:function(a,b){var c=new (y.getObject(a))({grid:this,index:b});this.viewsNode.appendChild(c.domNode);this.viewsHeaderNode.appendChild(c.headerNode);this.views.addView(c);z.attr(this.domNode,
"align",this.isLeftToRight()?"left":"right");return c},buildViews:function(){for(var a=0,b;b=this.layout.structure[a];a++)this.createView(b.type||l._scopeName+".grid._View",a).setStructure(b);this.scroller.setContentNodes(this.views.getContentNodes())},_setStructureAttr:function(a){a&&y.isString(a)&&(m.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0"),a=y.getObject(a));this.structure=a;if(!a)if(this.layout.structure)a=this.layout.structure;
else return;this.views.destroyViews();this.focus.focusView=null;a!==this.layout.structure&&this.layout.setStructure(a);this._structureChanged()},setStructure:function(a){m.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(a)},getColumnTogglingItems:function(){var a,b=[];a=s.map(this.layout.cells,function(a){a.menuItems||(a.menuItems=[]);var c=this,e=new u({label:a.name,checked:!a.hidden,_gridCell:a,onChange:function(a){if(c.layout.setColumnVisibility(this._gridCell.index,
a)){var b=this._gridCell.menuItems;1<b.length&&s.forEach(b,function(b){b!==this&&b.setAttribute("checked",a)},this);a=s.filter(c.layout.cells,function(a){1<a.menuItems.length?s.forEach(a.menuItems,"item.set('disabled', false);"):a.menuItems[0].set("disabled",!1);return!a.hidden});1==a.length&&s.forEach(a[0].menuItems,"item.set('disabled', true);")}},destroy:function(){var a=s.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(a,1);delete this._gridCell;u.prototype.destroy.apply(this,
arguments)}});a.menuItems.push(e);a.hidden||b.push(e);return e},this);1==b.length&&b[0].set("disabled",!0);return a},_setHeaderMenuAttr:function(a){this._placeholders&&this._placeholders.length&&(s.forEach(this._placeholders,function(a){a.unReplace(!0)}),this._placeholders=[]);this.headerMenu&&this.headerMenu.unBindDomNode(this.viewsHeaderNode);if(this.headerMenu=a)this.headerMenu.bindDomNode(this.viewsHeaderNode),this.headerMenu.getPlaceholders&&(this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel))},
setHeaderMenu:function(a){m.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(a)},setupHeaderMenu:function(){this._placeholders&&this._placeholders.length&&s.forEach(this._placeholders,function(a){a._replaced&&a.unReplace(!0);a.replace(this.getColumnTogglingItems())},this)},_fetch:function(a){this.setScrollTop(0)},getItem:function(a){return null},showMessage:function(a){a?(this.messagesNode.innerHTML=a,this.messagesNode.style.display=
""):(this.messagesNode.innerHTML="",this.messagesNode.style.display="none")},_structureChanged:function(){this.buildViews();this.autoRender&&this._started&&this.render()},hasLayout:function(){return this.layout.cells.length},resize:function(a,b){this._pendingChangeSize=a;this._pendingResultSize=b;this.sizeChange()},_getPadBorder:function(){return this._padBorder=this._padBorder||z._getPadBorderExtents(this.domNode)},_getHeaderHeight:function(){var a=this.viewsHeaderNode.style,b="none"==a.display?
0:this.views.measureHeader();a.height=b+"px";this.views.normalizeHeaderNodeHeight();return b},_resize:function(a,b){a=a||this._pendingChangeSize;b=b||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(this.domNode){var c=this.domNode.parentNode;if(c&&!(1!=c.nodeType||!this.hasLayout()||"hidden"==c.style.visibility||"none"==c.style.display)){var e=this._getPadBorder(),d=void 0,f;this._autoHeight?this.domNode.style.height="auto":"number"==typeof this.autoHeight?
(f=d=this._getHeaderHeight(),f+=this.scroller.averageRowHeight*this.autoHeight,this.domNode.style.height=f+"px"):this.domNode.clientHeight<=e.h&&(c==document.body?this.domNode.style.height=this.defaultHeight:this.height?this.domNode.style.height=this.height:this.fitTo="parent");b&&(a=b);!this._autoHeight&&a?(z.marginBox(this.domNode,a),this.height=this.domNode.style.height,delete this.fitTo):"parent"==this.fitTo&&(f=this._parentContentBoxHeight=0<this._parentContentBoxHeight?this._parentContentBoxHeight:
z._getContentBox(c).h,this.domNode.style.height=Math.max(0,f)+"px");c=s.some(this.views.views,function(a){return a.flexCells});!this._autoHeight&&0===(f||z._getContentBox(this.domNode).h)?this.viewsHeaderNode.style.display="none":(this.viewsHeaderNode.style.display="block",!c&&void 0===d&&(d=this._getHeaderHeight()));c&&(d=void 0);this.adaptWidth();this.adaptHeight(d);this.postresize()}}},adaptWidth:function(){var a=!this.initialWidth&&this.autoWidth,b=a?0:this.domNode.clientWidth||this.domNode.offsetWidth-
this._getPadBorder().w,b=this.views.arrange(1,b);this.views.onEach("adaptWidth");a&&(this.domNode.style.width=b+"px")},adaptHeight:function(a){a=void 0===a?this._getHeaderHeight():a;var b=this._autoHeight?-1:Math.max(this.domNode.clientHeight-a,0)||0;this.views.onEach("setSize",[0,b]);this.views.onEach("adaptHeight");if(!this._autoHeight){var c=0,e=0,d=s.filter(this.views.views,function(a){(a=a.hasHScrollbar())?c++:e++;return!a});0<c&&0<e&&s.forEach(d,function(a){a.adaptHeight(!0)})}!0===this.autoHeight||
-1!=b||"number"==typeof this.autoHeight&&this.autoHeight>=this.get("rowCount")?this.scroller.windowHeight=b:this.scroller.windowHeight=Math.max(this.domNode.clientHeight-a,0)},startup:function(){this._started||(this.inherited(arguments),this.autoRender&&this.render())},render:function(){this.domNode&&this._started&&(this.hasLayout()?(this.update=this.defaultUpdate,this._render()):this.scroller.init(0,this.keepRows,this.rowsPerPage))},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,
this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender()},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize()},postrender:function(){this.postresize();this.focus.initFocusView();z.setSelectable(this.domNode,this.selectable)},postresize:function(){if(this._autoHeight){var a=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=a}},renderRow:function(a,b){this.views.renderRow(a,
b,this._skipRowRenormalize)},rowRemoved:function(a){this.views.rowRemoved(a)},invalidated:null,updating:!1,beginUpdate:function(){this.invalidated=[];this.updating=!0},endUpdate:function(){this.updating=!1;var a=this.invalidated,b;if(a.all)this.update();else if(void 0!=a.rowCount)this.updateRowCount(a.rowCount);else for(b in a)this.updateRow(Number(b));this.invalidated=[]},defaultUpdate:function(){this.domNode&&(this.updating?this.invalidated.all=!0:(this.lastScrollTop=this.scrollTop,this.prerender(),
this.scroller.invalidateNodes(),this.setScrollTop(this.lastScrollTop),this.postrender()))},update:function(){this.render()},updateRow:function(a){a=Number(a);this.updating?this.invalidated[a]=!0:(this.views.updateRow(a),this.scroller.rowHeightChanged(a))},updateRows:function(a,b){a=Number(a);b=Number(b);var c;if(this.updating)for(c=0;c<b;c++)this.invalidated[c+a]=!0;else{for(c=0;c<b;c++)this.views.updateRow(c+a,this._skipRowRenormalize);this.scroller.rowHeightChanged(a)}},updateRowCount:function(a){this.updating?
this.invalidated.rowCount=a:(this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this.layout.cells.length&&this.scroller.updateRowCount(a),this._resize(),this.layout.cells.length&&this.setScrollTop(this.scrollTop))},updateRowStyles:function(a){this.views.updateRowStyles(a)},getRowNode:function(a){if(this.focus.focusView&&!(this.focus.focusView instanceof n))return this.focus.focusView.rowNodes[a];for(var b=0,c;c=this.views.views[b];b++)if(!(c instanceof n))return c.rowNodes[a];return null},
rowHeightChanged:function(a){this.views.renormalizeRow(a);this.scroller.rowHeightChanged(a)},fastScroll:!0,delayScroll:!1,scrollRedrawThreshold:D("ie")?100:50,scrollTo:function(a){if(this.fastScroll){var b=Math.abs(this.lastScrollTop-a);this.lastScrollTop=a;if(b>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=!0;this.scrollTop=a;this.views.setScrollTop(a);this._pendingScroll&&window.clearTimeout(this._pendingScroll);var c=this;this._pendingScroll=window.setTimeout(function(){delete c._pendingScroll;
c.finishScrollJob()},200)}else this.setScrollTop(a)}else this.setScrollTop(a)},finishScrollJob:function(){this.delayScroll=!1;this.setScrollTop(this.scrollTop)},setScrollTop:function(a){this.scroller.scroll(this.views.setScrollTop(a))},scrollToRow:function(a){this.setScrollTop(this.scroller.findScrollTop(a)+1)},styleRowNode:function(a,b){b&&this.rows.styleRowNode(a,b)},_mouseOut:function(a){this.rows.setOverRow(-2)},getCell:function(a){return this.layout.cells[a]},setCellWidth:function(a,b){this.getCell(a).unitWidth=
b},getCellName:function(a){return"Cell "+a.index},canSort:function(a){},sort:function(){},getSortAsc:function(a){a=void 0==a?this.sortInfo:a;return Boolean(0<a)},getSortIndex:function(a){a=void 0==a?this.sortInfo:a;return Math.abs(a)-1},setSortIndex:function(a,b){var c=a+1;void 0!=b?c*=b?1:-1:this.getSortIndex()==a&&(c=-this.sortInfo);this.setSortInfo(c)},setSortInfo:function(a){this.canSort(a)&&(this.sortInfo=a,this.sort(),this.update())},doKeyEvent:function(a){a.dispatch="do"+a.type;this.onKeyEvent(a)},
_dispatch:function(a,b){return a in this?this[a](b):!1},dispatchKeyEvent:function(a){this._dispatch(a.dispatch,a)},dispatchContentEvent:function(a){this.edit.dispatchEvent(a)||a.sourceView.dispatchContentEvent(a)||this._dispatch(a.dispatch,a)},dispatchHeaderEvent:function(a){a.sourceView.dispatchHeaderEvent(a)||this._dispatch("doheader"+a.type,a)},dokeydown:function(a){this.onKeyDown(a)},doclick:function(a){if(a.cellNode)this.onCellClick(a);else this.onRowClick(a)},dodblclick:function(a){if(a.cellNode)this.onCellDblClick(a);
else this.onRowDblClick(a)},docontextmenu:function(a){if(a.cellNode)this.onCellContextMenu(a);else this.onRowContextMenu(a)},doheaderclick:function(a){if(a.cellNode)this.onHeaderCellClick(a);else this.onHeaderClick(a)},doheaderdblclick:function(a){if(a.cellNode)this.onHeaderCellDblClick(a);else this.onHeaderDblClick(a)},doheadercontextmenu:function(a){if(a.cellNode)this.onHeaderCellContextMenu(a);else this.onHeaderContextMenu(a)},doStartEdit:function(a,b){this.onStartEdit(a,b)},doApplyCellEdit:function(a,
b,c){this.onApplyCellEdit(a,b,c)},doCancelEdit:function(a){this.onCancelEdit(a)},doApplyEdit:function(a){this.onApplyEdit(a)},addRow:function(){this.updateRowCount(this.get("rowCount")+1)},removeSelectedRows:function(){this.allItemsSelected?this.updateRowCount(0):this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));this.selection.clear()}});h.markupFactory=function(a,b,c,e){var d=function(a){a=z.attr(a,"width")||"auto";"auto"!=a&&("em"!=a.slice(-2)&&"%"!=a.slice(-1))&&
(a=parseInt(a,10)+"px");return a};!a.structure&&"table"==b.nodeName.toLowerCase()&&(a.structure=C("\x3e colgroup",b).map(function(a){var b=z.attr(a,"span"),b={noscroll:"true"==z.attr(a,"noscroll")?!0:!1,__span:b?parseInt(b,10):1,cells:[]};z.hasAttr(a,"width")&&(b.width=d(a));return b}),a.structure.length||a.structure.push({__span:Infinity,cells:[]}),C("thead \x3e tr",b).forEach(function(b,c){var f=0,s=0,k,p=null;C("\x3e th",b).map(function(b){p?f>=k+p.__span&&(s++,k+=p.__span,p=a.structure[s]):(k=
0,p=a.structure[0]);var q={name:y.trim(z.attr(b,"name")||b.innerHTML),colSpan:parseInt(z.attr(b,"colspan")||1,10),type:y.trim(z.attr(b,"cellType")||""),id:y.trim(z.attr(b,"id")||"")};f+=q.colSpan;var g=z.attr(b,"rowspan");g&&(q.rowSpan=g);z.hasAttr(b,"width")&&(q.width=d(b));z.hasAttr(b,"relWidth")&&(q.relWidth=window.parseInt(z.attr(b,"relWidth"),10));z.hasAttr(b,"hidden")&&(q.hidden="true"==z.attr(b,"hidden")||!0===z.attr(b,"hidden"));e&&e(b,q);q.type=q.type?y.getObject(q.type):l.grid.cells.Cell;
q.type&&q.type.markupFactory&&q.type.markupFactory(b,q);p.cells[c]||(p.cells[c]=[]);p.cells[c].push(q)})}));return new c(a,b)};return h})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(m,l,h,g,c,d,f,b,k,e,a,q){var n=l("dojo.dnd.Selector",q,{constructor:function(a,b){b||(b={});this.singular=b.singular;this.autoSync=b.autoSync;this.selection=
{};this.anchor=null;this.simpleSelection=!1;this.events.push(k(this.node,e.press,g.hitch(this,"onMouseDown")),k(this.node,e.release,g.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var e=new b,d=a._empty,f;for(f in this.selection)f in d||e.push(c.byId(f));return e},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,b){this._addItemClass(c.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},
deleteSelectedNodes:function(){var b=a._empty,e;for(e in this.selection)if(!(e in b)){var f=c.byId(e);this.delItem(e);d.destroy(f)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(b,c){c=c||h.global;var e=this.selection,d=a._empty,f;for(f in e)f in d||b.call(c,this.getItem(f),f,this)},sync:function(){n.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var b=[],c=a._empty,e;for(e in this.selection)e in c||this.getItem(e)||b.push(e);
m.forEach(b,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,e){var d=this._normalizedCreator;this._normalizedCreator=function(b,c){var e=d.call(this,b,c);a?(this.anchor?this.anchor!=e.node&&(this._removeItemClass(e.node,"Anchor"),this._addItemClass(e.node,"Selected")):(this.anchor=e.node,this._removeItemClass(e.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[e.node.id]=1):(this._removeItemClass(e.node,"Selected"),this._removeItemClass(e.node,
"Anchor"));return e};n.superclass.insertNodes.call(this,b,c,e);this._normalizedCreator=d;return this},destroy:function(){n.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(b){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!a.getCopyKeyState(b)&&!b.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,f.isLeft(b)&&(b.stopPropagation(),b.preventDefault());else{if(!this.singular&&b.shiftKey){a.getCopyKeyState(b)||this._removeSelection();
var c=this.getAllNodes();if(c.length&&(this.anchor||(this.anchor=c[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var e=0,d;e<c.length&&!(d=c[e],d==this.anchor||d==this.current);++e);for(++e;e<c.length;++e){d=c[e];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?a.getCopyKeyState(b)&&
this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):a.getCopyKeyState(b)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,
"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);b.stopPropagation();b.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=
k(this.node,e.move,g.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var b=a._empty,e;for(e in this.selection)if(!(e in b)){var d=c.byId(e);d&&this._removeItemClass(d,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return n})},"dijit/registry":function(){define(["dojo/_base/array",
"dojo/_base/window","./main"],function(m,l,h){var g={},c={},d={length:0,add:function(d){if(c[d.id])throw Error("Tried to register widget with id\x3d\x3d"+d.id+" but that id is already registered");c[d.id]=d;this.length++},remove:function(d){c[d]&&(delete c[d],this.length--)},byId:function(d){return"string"==typeof d?c[d]:d},byNode:function(d){return c[d.getAttribute("widgetId")]},toArray:function(){var d=[],b;for(b in c)d.push(c[b]);return d},getUniqueId:function(d){var b;do b=d+"_"+(d in g?++g[d]:
g[d]=0);while(c[b]);return"dijit"==h._scopeName?b:h._scopeName+"_"+b},findWidgets:function(d,b){function k(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var d=a.getAttribute("widgetId");d?(d=c[d])&&e.push(d):a!==b&&k(a)}}var e=[];k(d);return e},_destroyAll:function(){h._curFocus=null;h._prevFocus=null;h._activeStack=[];m.forEach(d.findWidgets(l.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(d){for(;d;){var b=
1==d.nodeType&&d.getAttribute("widgetId");if(b)return c[b];d=d.parentNode}return null},_hash:c};return h.registry=d})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(m,l,h,g,c,d,f,b,k){var e=c.delegate(b,{mouseenter:d.enter,mouseleave:d.leave,keypress:h._keypress}),a;h=g("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},
buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,e){var d=!0,f=this.attachScope||
this,k=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(k)for(var g=k.split(/\s*,\s*/);k=g.shift();)c.isArray(f[k])?f[k].push(a):f[k]=a,d="containerNode"!=k,this._attachPoints.push(k);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){k=b.split(/\s*,\s*/);for(g=c.trim;b=k.shift();)if(b){var h=null;-1!=b.indexOf(":")?(h=b.split(":"),b=g(h[0]),h=g(h[1])):b=g(b);h||(h=b);this._attachEvents.push(e(a,b,c.hitch(f,h)))}}return d},_attach:function(b,c,d){c=c.replace(/^on/,"").toLowerCase();
c="dijitclick"==c?a||(a=m("./a11yclick")):e[c]||c;return f(b,c,d)},_detachTemplateNodes:function(){var a=this.attachScope||this;l.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];l.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});c.extend(k,{dojoAttachEvent:"",dojoAttachPoint:""});return h})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady",
"./sniff","./_base/window"],function(m,l,h,g,c){var d=c.doc.documentElement;c=g("ie");var f=g("opera"),b=Math.floor,k=g("ff"),e=m.boxModel.replace(/-/,""),f={dj_quirks:g("quirks"),dj_opera:f,dj_khtml:g("khtml"),dj_webkit:g("webkit"),dj_safari:g("safari"),dj_chrome:g("chrome"),dj_gecko:g("mozilla"),dj_ios:g("ios"),dj_android:g("android")};c&&(f.dj_ie=!0,f["dj_ie"+b(c)]=!0,f.dj_iequirks=g("quirks"));k&&(f["dj_ff"+b(k)]=!0);f["dj_"+e]=!0;var a="",q;for(q in f)f[q]&&(a+=q+" ");d.className=l.trim(d.className+
" "+a);h(function(){if(!m.isBodyLtr()){var b="dj_rtl dijitRtl "+a.replace(/ /g,"-rtl ");d.className=l.trim(d.className+" "+b+"dj_rtl dijitRtl "+a.replace(/ /g,"-rtl "))}});return g})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(m,l,h,g,c,d,f){l.add("rtl-adjust-position-for-verticalScrollBar",function(b,e){var a=h.body(e),d=f.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",
position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},a,"last"),g=f.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),r=0!=c.position(g).x;d.removeChild(g);a.removeChild(d);return r});l.add("position-fixed-support",function(b,e){var a=h.body(e),d=f.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},a,"last"),g=f.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),r=c.position(g).x!=c.position(d).x;d.removeChild(g);a.removeChild(d);
return r});var b={getBox:function(d){d=d||h.doc;var e="BackCompat"==d.compatMode?h.body(d):d.documentElement,a=c.docScroll(d);if(l("touch")){var f=b.get(d);d=f.innerWidth||e.clientWidth;e=f.innerHeight||e.clientHeight}else d=e.clientWidth,e=e.clientHeight;return{l:a.x,t:a.y,w:d,h:e}},get:function(c){if(l("ie")&&b!==document.parentWindow){c.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var e=c._parentWindow;c._parentWindow=null;return e}return c.parentWindow||c.defaultView},
scrollIntoView:function(b,e){try{b=g.byId(b);var a=b.ownerDocument||h.doc,f=h.body(a),n=a.documentElement||f.parentNode,r=l("ie"),t=l("webkit");if(!(b==f||b==n))if(!l("mozilla")&&(!r&&!t&&!l("opera")&&!l("trident"))&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var p="BackCompat"==a.compatMode,u=Math.min(f.clientWidth||n.clientWidth,n.clientWidth||f.clientWidth),m=Math.min(f.clientHeight||n.clientHeight,n.clientHeight||f.clientHeight),a=t||p?f:n,w=e||c.position(b),s=b.parentNode,t=function(a){return 6>=
r||7==r&&p?!1:l("position-fixed-support")&&"fixed"==d.get(a,"position").toLowerCase()},y=this,D=function(a,b,c){"BODY"==a.tagName||"HTML"==a.tagName?y.get(a.ownerDocument).scrollBy(b,c):(b&&(a.scrollLeft+=b),c&&(a.scrollTop+=c))};if(!t(b))for(;s;){s==f&&(s=a);var v=c.position(s),z=t(s),C="rtl"==d.getComputedStyle(s).direction.toLowerCase();if(s==a){v.w=u;v.h=m;if(a==n&&(r||l("trident"))&&C)v.x+=a.offsetWidth-v.w;if(0>v.x||!r||9<=r||l("trident"))v.x=0;if(0>v.y||!r||9<=r||l("trident"))v.y=0}else{var F=
c.getPadBorderExtents(s);v.w-=F.w;v.h-=F.h;v.x+=F.l;v.y+=F.t;var A=s.clientWidth,B=v.w-A;0<A&&0<B&&(C&&l("rtl-adjust-position-for-verticalScrollBar")&&(v.x+=B),v.w=A);A=s.clientHeight;B=v.h-A;0<A&&0<B&&(v.h=A)}z&&(0>v.y&&(v.h+=v.y,v.y=0),0>v.x&&(v.w+=v.x,v.x=0),v.y+v.h>m&&(v.h=m-v.y),v.x+v.w>u&&(v.w=u-v.x));var G=w.x-v.x,H=w.y-v.y,J=G+w.w-v.w,K=H+w.h-v.h,E,I;if(0<J*G&&(s.scrollLeft||s==a||s.scrollWidth>s.offsetHeight)){E=Math[0>G?"max":"min"](G,J);if(C&&(8==r&&!p||9<=r||l("trident")))E=-E;I=s.scrollLeft;
D(s,E,0);E=s.scrollLeft-I;w.x-=E}if(0<K*H&&(s.scrollTop||s==a||s.scrollHeight>s.offsetHeight))E=Math.ceil(Math[0>H?"max":"min"](H,K)),I=s.scrollTop,D(s,0,E),E=s.scrollTop-I,w.y-=E;s=s!=a&&!z&&s.parentNode}}}catch(L){console.error("scrollIntoView: "+L),b.scrollIntoView(!1)}}};m.setObject("dojo.window",b);return b})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q,n){return l("dojo.dnd.Mover",[k],{constructor:function(b,c,f){function g(a){a.preventDefault();a.stopPropagation()}this.node=d.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=f;b=b.ownerDocument;this.events=[e(b,a.move,h.hitch(this,"onFirstMove")),e(b,a.move,h.hitch(this,"onMouseMove")),e(b,a.release,h.hitch(this,"onMouseUp")),e(b,"dragstart",g),e(b.body,"selectstart",g)];n.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},
onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(g("webkit")&&g("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var e=this.node.style,d,g=this.host;switch(e.position){case "relative":case "absolute":d=Math.round(parseFloat(e.left))||0;e=Math.round(parseFloat(e.top))||0;break;
default:e.position="absolute";e=f.getMarginBox(this.node);d=c.doc.body;var k=b.getComputedStyle(d),q=f.getMarginBox(d,k),k=f.getContentBox(d,k);d=e.l-(k.l-q.l);e=e.t-(k.t-q.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=e-this.marginBox.t;if(g&&g.onFirstMove)g.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){m.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojox/grid/_EditManager":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/connect dojo/_base/sniff ./util".split(" "),
function(m,l,h,g,c,d){return h("dojox.grid._EditManager",null,{constructor:function(d){this.grid=d;this.connections=!c("ie")?[]:[g.connect(document.body,"onfocus",m.hitch(this,"_boomerangFocus"))];this.connections.push(g.connect(this.grid,"onBlur",this,"apply"));this.connections.push(g.connect(this.grid,"prerender",this,"_onPreRender"))},info:{},destroy:function(){l.forEach(this.connections,g.disconnect)},cellFocus:function(c,b){this.grid.singleClickEdit||this.isEditRow(b)?this.setEditCell(c,b):this.apply();
(this.isEditing()||c&&c.editable&&c.alwaysEditing)&&this._focusEditor(c,b)},rowClick:function(c){this.isEditing()&&!this.isEditRow(c.rowIndex)&&this.apply()},styleRow:function(c){c.index==this.info.rowIndex&&(c.customClasses+=" dojoxGridRowEditing")},dispatchEvent:function(c){var b=c.cell;return(b=b&&b.editable?b:0)&&b.dispatchEvent(c.dispatch,c)},isEditing:function(){return void 0!==this.info.rowIndex},isEditCell:function(c,b){return this.info.rowIndex===c&&this.info.cell.index==b},isEditRow:function(c){return this.info.rowIndex===
c},setEditCell:function(c,b){!this.isEditCell(b,c.index)&&(this.grid.canEdit&&this.grid.canEdit(c,b))&&this.start(c,b,this.isEditRow(b)||c.editable)},_focusEditor:function(c,b){d.fire(c,"focus",[b])},focusEditor:function(){this.isEditing()&&this._focusEditor(this.info.cell,this.info.rowIndex)},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>(new Date).getTime()},_boomerangFocus:function(){this._shouldCatchBoomerang()&&(this.grid.focus.focusGrid(),this.focusEditor(),
this._catchBoomerang=0)},_doCatchBoomerang:function(){c("ie")&&(this._catchBoomerang=(new Date).getTime()+this._boomerangWindow)},start:function(c,b,d){this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.isEditing()&&!this.isEditRow(b)&&(this.applyRowEdit(),this.grid.updateRow(b)),d?(this.info={cell:c,rowIndex:b},this.grid.doStartEdit(c,b),this.grid.updateRow(b)):this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._focusEditor(c,b),this._doCatchBoomerang())},_editorDo:function(c){var b=
this.info.cell;if(b&&b.editable)b[c](this.info.rowIndex)},editorApply:function(){this._editorDo("apply")},editorCancel:function(){this._editorDo("cancel")},applyCellEdit:function(c,b,d){this.grid.canEdit(b,d)&&this.grid.doApplyCellEdit(c,d,b.field)},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field)},apply:function(){this.isEditing()&&this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.applyRowEdit(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),
this._doCatchBoomerang())},cancel:function(){this.isEditing()&&(this.grid.beginUpdate(),this.editorCancel(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},save:function(c,b){var d=this.info.cell;this.isEditRow(c)&&((!b||d.view==b)&&d.editable)&&d.save(d,this.info.rowIndex)},restore:function(c,b){var d=this.info.cell;this.isEditRow(b)&&(d.view==c&&d.editable)&&d.restore(this.info.rowIndex)},_isValidInput:function(){var c=(this.info.cell||{}).widget;if(!c||
!c.isValid)return!0;c.focused=!0;return c.isValid(!0)},_onPreRender:function(){this.isEditing()&&(this.info.value=this.info.cell.getValue())}})})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(m,l,h){return m("dojox.grid.DataSelection",h,{constructor:function(g){g.keepSelection&&(this.preserver=new l(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var g=h.prototype.getFirstSelected.call(this);
return-1==g?null:this.grid.getItem(g)},getNextSelected:function(g){g=this.grid.getItemIndex(g);g=h.prototype.getNextSelected.call(this,g);return-1==g?null:this.grid.getItem(g)},getSelected:function(){for(var g=[],c=0,d=this.selected.length;c<d;c++)this.selected[c]&&g.push(this.grid.getItem(c));return g},addToSelection:function(g){if("none"!=this.mode){var c=null,c="number"==typeof g||"string"==typeof g?g:this.grid.getItemIndex(g);h.prototype.addToSelection.call(this,c)}},deselect:function(g){if("none"!=
this.mode){var c=null,c="number"==typeof g||"string"==typeof g?g:this.grid.getItemIndex(g);h.prototype.deselect.call(this,c)}},deselectAll:function(g){var c=null;g||"number"==typeof g?(c="number"==typeof g||"string"==typeof g?g:this.grid.getItemIndex(g),h.prototype.deselectAll.call(this,c)):this.inherited(arguments)}})})},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(m,l,h){return m("dojox.grid._ViewManager",null,{constructor:function(g){this.grid=
g},defaultWidth:200,views:[],resize:function(){this.onEach("resize")},render:function(){this.onEach("render")},addView:function(g){g.idx=this.views.length;this.views.push(g)},destroyViews:function(){for(var g=0,c;c=this.views[g];g++)c.destroy();this.views=[]},getContentNodes:function(){for(var g=[],c=0,d;d=this.views[c];c++)g.push(d.contentNode);return g},forEach:function(g){for(var c=0,d;d=this.views[c];c++)g(d,c)},onEach:function(g,c){c=c||[];for(var d=0,f;f=this.views[d];d++)g in f&&f[g].apply(f,
c)},normalizeHeaderNodeHeight:function(){for(var g=[],c=0,d;d=this.views[c];c++)d.headerContentNode.firstChild&&g.push(d.headerContentNode);this.normalizeRowNodeHeights(g)},normalizeRowNodeHeights:function(g){var c=0,d=[];if(this.grid.rowHeight)c=this.grid.rowHeight;else{if(1>=g.length)return;for(var f=0,b;b=g[f];f++)h.contains(b,"dojoxGridNonNormalizedCell")||(d[f]=b.firstChild.offsetHeight,c=Math.max(c,d[f]));c=0<=c?c:0;(l("mozilla")||8<l("ie"))&&c&&c++}for(f=0;b=g[f];f++)d[f]!=c&&(b.firstChild.style.height=
c+"px")},resetHeaderNodeHeight:function(){for(var g=0,c;c=this.views[g];g++)if(c=c.headerContentNode.firstChild)c.style.height=""},renormalizeRow:function(g){for(var c=[],d=0,f,b;(f=this.views[d])&&(b=f.getRowNode(g));d++)b.firstChild.style.height="",c.push(b);this.normalizeRowNodeHeights(c)},getViewWidth:function(g){return this.views[g].getWidth()||this.defaultWidth},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(c){c.headerContentNode.style.height=""});var g=0;this.forEach(function(c){g=
Math.max(c.headerNode.offsetHeight,g)});return g},measureContent:function(){var g=0;this.forEach(function(c){g=Math.max(c.domNode.offsetHeight,g)});return g},findClient:function(g){g=this.grid.elasticView||-1;if(0>g)for(var c=1,d;d=this.views[c];c++)if(d.viewWidth){for(c=1;d=this.views[c];c++)if(!d.viewWidth){g=c;break}break}0>g&&(g=Math.floor(this.views.length/2));return g},arrange:function(g,c){var d,f,b,k=this.views.length,e=this,a=0>=c?k:this.findClient(),q=function(a,b){var c=a.domNode.style,
d=a.headerNode.style;e.grid.isLeftToRight()?(c.left=b+"px",d.left=b+"px"):(c.right=b+"px",4>l("ff")?d.right=b+a.getScrollbarWidth()+"px":d.right=b+"px",!l("webkit")&&"auto"!=d.width&&(d.width=parseInt(d.width,10)-a.getScrollbarWidth()+"px"));c.top="0px";d.top=0};for(d=0;(f=this.views[d])&&d<a;d++)b=this.getViewWidth(d),f.setSize(b,0),q(f,g),b=f.headerContentNode&&f.headerContentNode.firstChild?f.getColumnsWidth()+f.getScrollbarWidth():f.domNode.offsetWidth,g+=b;d++;for(var n=c,r=k-1;(f=this.views[r])&&
d<=r;r--)b=this.getViewWidth(r),f.setSize(b,0),b=f.domNode.offsetWidth,n-=b,q(f,n);a<k&&(f=this.views[a],b=Math.max(1,n-g),f.setSize(b+"px",0),q(f,g));return g},renderRow:function(g,c,d){for(var f=[],b=0,k,e;(k=this.views[b])&&(e=c[b]);b++)k=k.renderRow(g),e.appendChild(k),f.push(k);d||this.normalizeRowNodeHeights(f)},rowRemoved:function(g){this.onEach("rowRemoved",[g])},updateRow:function(g,c){for(var d=0,f;f=this.views[d];d++)f.updateRow(g);c||this.renormalizeRow(g)},updateRowStyles:function(g){this.onEach("updateRowStyles",
[g])},setScrollTop:function(g){for(var c=g,d=0,f;f=this.views[d];d++)c=f.setScrollTop(g),l("ie")&&(f.headerNode&&f.scrollboxNode)&&(f.headerNode.scrollLeft=f.scrollboxNode.scrollLeft);return c},getFirstScrollingView:function(){for(var g=0,c;c=this.views[g];g++)if(c.hasHScrollbar()||c.hasVScrollbar())return c;return null}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(m,l,h,g,c,d){m=g("dijit._OnDijitClickMixin",
null,{connect:function(c,b,g){return this.inherited(arguments,[c,"ondijitclick"==b?d:b,g])}});m.a11yclick=d;return m})},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(m,l,h){var g=l.getObject("grid.util",!0,m);g.na="...";g.rowIndexTag="gridRowIndex";g.gridViewTag="gridView";g.fire=function(c,d,f){var b=c&&d&&c[d];return b&&(f?b.apply(c,f):c[d]())};g.setStyleHeightPx=function(c,d){if(0<=d){var f=c.style,b=d+"px";c&&f.height!=b&&(f.height=b)}};g.mouseEvents="mouseover mouseout mousedown mouseup click dblclick contextmenu".split(" ");
g.keyEvents=["keyup","keydown","keypress"];g.funnelEvents=function(c,d,f,b){b=b?b:g.mouseEvents.concat(g.keyEvents);for(var k=0,e=b.length;k<e;k++)d.connect(c,"on"+b[k],f)};g.removeNode=function(c){(c=h.byId(c))&&c.parentNode&&c.parentNode.removeChild(c);return c};g.arrayCompare=function(c,d){for(var f=0,b=c.length;f<b;f++)if(c[f]!=d[f])return!1;return c.length==d.length};g.arrayInsert=function(c,d,f){c.length<=d?c[d]=f:c.splice(d,0,f)};g.arrayRemove=function(c,d){c.splice(d,1)};g.arraySwap=function(c,
d,f){var b=c[d];c[d]=c[f];c[f]=b};return g})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(m,l,h,g){function c(b){if((b.keyCode===m.ENTER||b.keyCode===m.SPACE)&&!/input|button|textarea/i.test(b.target.nodeName))for(b=b.target;b;b=b.parentNode)if(b.dojoClick)return!0}var d;h(document,"keydown",function(b){c(b)?(d=b.target,b.preventDefault()):d=null});h(document,"keyup",function(b){c(b)&&b.target==d&&(d=null,h.emit(b.target,"click",{cancelable:!0,bubbles:!0,
ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,metaKey:b.metaKey,altKey:b.altKey,_origType:b.type}))});var f=function(b,c){b.dojoClick=!0;return h(b,"click",c)};f.click=f;f.press=function(b,c){var e=h(b,g.press,function(a){("mousedown"!=a.type||l.isLeft(a))&&c(a)}),a=h(b,"keydown",function(a){(a.keyCode===m.ENTER||a.keyCode===m.SPACE)&&c(a)});return{remove:function(){e.remove();a.remove()}}};f.release=function(b,c){var e=h(b,g.release,function(a){("mouseup"!=a.type||l.isLeft(a))&&c(a)}),a=h(b,"keyup",function(a){(a.keyCode===
m.ENTER||a.keyCode===m.SPACE)&&c(a)});return{remove:function(){e.remove();a.remove()}}};f.move=g.move;return f})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(m,l,h,g){h(function(){l("highcontrast")&&m.add(g.body(),"dijit_a11y")});return l})},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(m){return m.grid.cells})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(m,l,h,g,c,d,f,b){var k=l("dijit._TemplatedMixin",b,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(b){var a=this.declaredClass,c=this;return f.substitute(b,this,function(b,e){"!"==e.charAt(0)&&(b=g.getObject(e.substr(1),!1,c));if("undefined"==typeof b)throw Error(a+" template:"+e);return null==b?"":"!"==e.charAt(0)?b:this._escapeValue(""+b)},this)},_escapeValue:function(b){return b.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=m(this.templatePath,{sanitize:!0}));var b=k.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),a;if(g.isString(b)){if(a=h.toDom(this._stringRepl(b),this.ownerDocument),1!=a.nodeType)throw Error("Invalid template: "+b);}else a=b.cloneNode(!0);this.domNode=a}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
this._rendered=!0},_fillContent:function(b){var a=this.containerNode;if(b&&a)for(;b.hasChildNodes();)a.appendChild(b.firstChild)}});k._templateCache={};k.getCachedTemplate=function(b,a,c){var d=k._templateCache,g=b,t=d[g];if(t){try{if(!t.ownerDocument||t.ownerDocument==(c||document))return t}catch(p){}h.destroy(t)}b=f.trim(b);if(a||b.match(/\$\{([^\}]+)\}/g))return d[g]=b;a=h.toDom(b,c);if(1!=a.nodeType)throw Error("Invalid template: "+b);return d[g]=a};d("ie")&&c(window,"unload",function(){var b=
k._templateCache,a;for(a in b){var c=b[a];"object"==typeof c&&h.destroy(c);delete b[a]}});return k})},"dojox/html/metrics":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(m,l,h,g,c,d,f){var b=l.getObject("dojox.html.metrics",!0),k=l.getObject("dojox");b.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,
"xx-large":0},b;h("ie")&&(b=d.doc.documentElement.style.fontSize||"",b||(d.doc.documentElement.style.fontSize="100%"));var c=d.doc.createElement("div"),e=c.style;e.position="absolute";e.left="-100px";e.top="0";e.width="30px";e.height="1000em";e.borderWidth="0";e.margin="0";e.padding="0";e.outline="0";e.lineHeight="1";e.overflow="hidden";d.body().appendChild(c);for(var f in a)e.fontSize=f,a[f]=16*Math.round(12*c.offsetHeight/16)/12/1E3;h("ie")&&(d.doc.documentElement.style.fontSize=b);d.body().removeChild(c);
return a};var e=null;b.getCachedFontMeasurements=function(a){if(a||!e)e=b.getFontMeasurements();return e};var a=null,q={};b.getTextBox=function(b,c,e){var g,k;if(a)g=a;else{g=a=d.doc.createElement("div");var s=d.doc.createElement("div");s.appendChild(g);k=s.style;k.overflow="scroll";k.position="absolute";k.left="0px";k.top="-10000px";k.width="1px";k.height="1px";k.visibility="hidden";k.borderWidth="0";k.margin="0";k.padding="0";k.outline="0";d.body().appendChild(s)}g.className="";k=g.style;k.borderWidth=
"0";k.margin="0";k.padding="0";k.outline="0";if(1<arguments.length&&c)for(var n in c)n in q||(k[n]=c[n]);2<arguments.length&&e&&(g.className=e);g.innerHTML=b;k=f.position(g);k.w=g.parentNode.scrollWidth;return k};var n=16,r=16;b.getScrollbar=function(){return{w:n,h:r}};b._fontResizeNode=null;b.initOnFontResize=function(a){var c=b._fontResizeNode=d.doc.createElement("iframe");a=c.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";h("ie")?c.onreadystatechange=
function(){"complete"==c.contentWindow.document.readyState&&(c.onresize=c.contentWindow.parent[k._scopeName].html.metrics._fontresize)}:c.onload=function(){c.contentWindow.onresize=c.contentWindow.parent[k._scopeName].html.metrics._fontresize};c.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");d.body().appendChild(c);b.initOnFontResize=function(){}};
b.onFontResize=function(){};b._fontresize=function(){b.onFontResize()};c.addOnUnload(function(){var a=b._fontResizeNode;a&&(h("ie")&&a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),b._fontResizeNode=null)});g(function(){try{var a=d.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";d.body().appendChild(a);n=a.offsetWidth-a.clientWidth;r=a.offsetHeight-a.clientHeight;
d.body().removeChild(a);delete a}catch(c){}"fontSizeWatch"in m.config&&m.config.fontSizeWatch&&b.initOnFontResize()});return b})},"dojox/grid/_Builder":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/window dojo/_base/event dojo/_base/sniff dojo/_base/connect dojo/dnd/Moveable dojox/html/metrics ./util dojo/_base/html dojo/dom-geometry".split(" "),function(m,l,h,g,c,d,f,b,k,e,a,q){var n=m.grid,r=function(a){for(;a&&"TABLE"!=a.tagName;a=a.parentNode);return a},t=function(a){var b=
a.toUpperCase();return function(a){return a.tagName!=b}},p=e.rowIndexTag,u=e.gridViewTag,x=n._Builder=h.extend(function(a){a&&(this.view=a,this.grid=a.grid)},{view:null,_table:'\x3ctable class\x3d"dojoxGridRowTable" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"',getTableArray:function(){var a=[this._table];this.view.viewWidth&&a.push([' style\x3d"width:',this.view.viewWidth,';"'].join(""));a.push("\x3e");return a},generateCellMarkup:function(a,b,c,e){var d=[],f;e?(f=a.index!=
a.grid.getSortIndex()?"":0<a.grid.sortInfo?'aria-sort\x3d"ascending"':'aria-sort\x3d"descending"',a.id||(a.id=this.grid.id+"Hdr"+a.index),f=['\x3cth tabIndex\x3d"-1" aria-readonly\x3d"true" role\x3d"columnheader"',f,' id\x3d"',a.id,'"']):f=['\x3ctd tabIndex\x3d"-1" role\x3d"gridcell"',this.grid.editable&&!a.editable?'aria-readonly\x3d"true"':""];a.colSpan&&f.push(' colspan\x3d"',a.colSpan,'"');a.rowSpan&&f.push(' rowspan\x3d"',a.rowSpan,'"');f.push(' class\x3d"dojoxGridCell ');a.classes&&f.push(a.classes,
" ");c&&f.push(c," ");d.push(f.join(""));d.push("");f=['" idx\x3d"',a.index,'" style\x3d"'];b&&";"!=b[b.length-1]&&(b+=";");f.push(a.styles,b||"",a.hidden?"display:none;":"");a.unitWidth&&f.push("width:",a.unitWidth,";");d.push(f.join(""));d.push("");f=['"'];a.attrs&&f.push(" ",a.attrs);f.push("\x3e");d.push(f.join(""));d.push("");d.push(e?"\x3c/th\x3e":"\x3c/td\x3e");return d},isCellNode:function(b){return Boolean(b&&b!=g.doc&&a.attr(b,"idx"))},getCellNodeIndex:function(b){return b?Number(a.attr(b,
"idx")):-1},getCellNode:function(a,b){for(var c=0,e;(e=a.firstChild&&((a.firstChild.rows||0)[c]||a.firstChild.childNodes[c]))&&e.cells;c++)for(var d=0,f;f=e.cells[d];d++)if(this.getCellNodeIndex(f)==b)return f;return null},findCellTarget:function(a,b){for(var c=a;c&&(!this.isCellNode(c)||c.offsetParent&&u in c.offsetParent.parentNode&&c.offsetParent.parentNode[u]!=this.view.id)&&c!=b;)c=c.parentNode;return c!=b?c:null},baseDecorateEvent:function(a){a.dispatch="do"+a.type;a.grid=this.grid;a.sourceView=
this.view;a.cellNode=this.findCellTarget(a.target,a.rowNode);a.cellIndex=this.getCellNodeIndex(a.cellNode);a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null},findTarget:function(a,b){for(var c=a;c&&c!=this.domNode&&(!(b in c)||u in c&&c[u]!=this.view.id);)c=c.parentNode;return c!=this.domNode?c:null},findRowTarget:function(a){return this.findTarget(a,p)},isIntraNodeEvent:function(b){try{return b.cellNode&&b.relatedTarget&&a.isDescendant(b.relatedTarget,b.cellNode)}catch(c){return!1}},isIntraRowEvent:function(a){try{var b=
a.relatedTarget&&this.findRowTarget(a.relatedTarget);return!b&&-1==a.rowIndex||b&&a.rowIndex==b.gridRowIndex}catch(c){return!1}},dispatchEvent:function(a){return a.dispatch in this?this[a.dispatch](a):!1},domouseover:function(a){a.cellNode&&a.cellNode!=this.lastOverCellNode&&(this.lastOverCellNode=a.cellNode,this.grid.onMouseOver(a));this.grid.onMouseOverRow(a)},domouseout:function(a){if(a.cellNode&&(a.cellNode==this.lastOverCellNode&&!this.isIntraNodeEvent(a,this.lastOverCellNode))&&(this.lastOverCellNode=
null,this.grid.onMouseOut(a),!this.isIntraRowEvent(a)))this.grid.onMouseOutRow(a)},domousedown:function(a){if(a.cellNode)this.grid.onMouseDown(a);this.grid.onMouseDownRow(a)},_getTextDirStyle:function(a,b,c){return""}});m=n._ContentBuilder=h.extend(function(a){x.call(this,a)},x.prototype,{update:function(){this.prepareHtml()},prepareHtml:function(){for(var a=this.grid.get,b=this.view.structure.cells,c=0,e;e=b[c];c++)for(var d=0,f;f=e[d];d++)f.get=f.get||void 0==f.value&&a,f.markup=this.generateCellMarkup(f,
f.cellStyles,f.cellClasses,!1),!this.grid.editable&&f.editable&&(this.grid.editable=!0)},generateHtml:function(a,b){var c=this.getTableArray(),d,f=this.view.structure.cells,g=this.grid.getItem(b);e.fire(this.view,"onBeforeRow",[b,f]);for(var k=0,q;q=f[k];k++)if(!q.hidden&&!q.header){c.push(!q.invisible?"\x3ctr\x3e":'\x3ctr class\x3d"dojoxGridInvisible"\x3e');for(var p=0,n,r,t;n=q[p];p++)r=n.markup,d=n.customClasses=[],t=n.customStyles=[],r[5]=n.format(b,g),r[1]=d.join(" "),r[3]=t.join(";"),(d=n.textDir||
this.grid.textDir)&&(r[3]+=this._getTextDirStyle(d,n,b)),c.push.apply(c,r);c.push("\x3c/tr\x3e")}c.push("\x3c/table\x3e");return c.join("")},decorateEvent:function(a){a.rowNode=this.findRowTarget(a.target);if(!a.rowNode)return!1;a.rowIndex=a.rowNode[p];this.baseDecorateEvent(a);a.cell=this.grid.getCell(a.cellIndex);return!0}});var w=n._HeaderBuilder=h.extend(function(a){this.moveable=null;x.call(this,a)},x.prototype,{_skipBogusClicks:!1,overResizeWidth:4,minColWidth:1,update:function(){this.tableMap?
this.tableMap.mapRows(this.view.structure.cells):this.tableMap=new n._TableMap(this.view.structure.cells)},generateHtml:function(a,b){var c,d=this.getTableArray(),f=this.view.structure.cells;e.fire(this.view,"onBeforeRow",[-1,f]);for(var g=0,k;k=f[g];g++)if(!k.hidden){d.push(!k.invisible?"\x3ctr\x3e":'\x3ctr class\x3d"dojoxGridInvisible"\x3e');for(var q=0,p,n;p=k[q];q++)p.customClasses=[],p.customStyles=[],this.view.simpleStructure&&(p.draggable&&(p.headerClasses?-1==p.headerClasses.indexOf("dojoDndItem")&&
(p.headerClasses+=" dojoDndItem"):p.headerClasses="dojoDndItem"),p.attrs?-1==p.attrs.indexOf("dndType\x3d'gridColumn_")&&(p.attrs+=" dndType\x3d'gridColumn_"+this.grid.id+"'"):p.attrs="dndType\x3d'gridColumn_"+this.grid.id+"'"),n=this.generateCellMarkup(p,p.headerStyles,p.headerClasses,!0),n[5]=void 0!=b?b:a(p),n[3]=p.customStyles.join(";"),(c=p.textDir||this.grid.textDir)&&(n[3]+=this._getTextDirStyle(c,p,b)),n[1]=p.customClasses.join(" "),d.push(n.join(""));d.push("\x3c/tr\x3e")}d.push("\x3c/table\x3e");
return d.join("")},getCellX:function(a){var b;b=t("th");for(var c=a.target;c&&b(c);c=c.parentNode);(b=c)?(b=q.position(b),a=a.clientX-b.x):a=a.layerX;return a},decorateEvent:function(a){this.baseDecorateEvent(a);a.rowIndex=-1;a.cellX=this.getCellX(a);return!0},prepareResize:function(a,b){do{var c=a.cellIndex;a.cellNode=c?a.cellNode.parentNode.cells[c+b]:null;a.cellIndex=a.cellNode?this.getCellNodeIndex(a.cellNode):-1}while(a.cellNode&&"none"==a.cellNode.style.display);return Boolean(a.cellNode)},
canResize:function(a){if(!a.cellNode||1<a.cellNode.colSpan)return!1;a=this.grid.getCell(a.cellIndex);return!a.noresize&&a.canResize()},overLeftResizeArea:function(b){if(a.hasClass(g.body(),"dojoDndMove"))return!1;if(d("ie")){var c=b.target;if(a.hasClass(c,"dojoxGridArrowButtonNode")||a.hasClass(c,"dojoxGridArrowButtonChar")||a.hasClass(c,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?0<b.cellIndex&&0<b.cellX&&b.cellX<this.overResizeWidth&&this.prepareResize(b,-1):b.cellNode&&0<b.cellX&&
b.cellX<this.overResizeWidth},overRightResizeArea:function(b){if(a.hasClass(g.body(),"dojoDndMove"))return!1;if(d("ie")){var c=b.target;if(a.hasClass(c,"dojoxGridArrowButtonNode")||a.hasClass(c,"dojoxGridArrowButtonChar")||a.hasClass(c,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?b.cellNode&&b.cellX>=b.cellNode.offsetWidth-this.overResizeWidth:0<b.cellIndex&&b.cellX>=b.cellNode.offsetWidth-this.overResizeWidth&&this.prepareResize(b,-1)},domousemove:function(b){if(!this.moveable){var d=
this.overRightResizeArea(b)?"dojoxGridColResize":this.overLeftResizeArea(b)?"dojoxGridColResize":"";d&&!this.canResize(b)&&(d="dojoxGridColNoResize");a.toggleClass(b.sourceView.headerNode,"dojoxGridColNoResize","dojoxGridColNoResize"==d);a.toggleClass(b.sourceView.headerNode,"dojoxGridColResize","dojoxGridColResize"==d);d&&c.stop(b)}},domousedown:function(a){this.moveable||((this.overRightResizeArea(a)||this.overLeftResizeArea(a))&&this.canResize(a)?this.beginColumnResize(a):(this.grid.onMouseDown(a),
this.grid.onMouseOverRow(a)))},doclick:function(a){return this._skipBogusClicks?(c.stop(a),!0):!1},colResizeSetup:function(b,c){var e=a.contentBox(b.sourceView.headerNode);if(c){this.lineDiv=document.createElement("div");var f=a.position(b.sourceView.headerNode,!0),p=a.contentBox(b.sourceView.domNode),q=b.pageX;!this.grid.isLeftToRight()&&8>d("ie")&&(q-=k.getScrollbar().w);a.style(this.lineDiv,{top:f.y+"px",left:q+"px",height:p.h+e.h+"px"});a.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=
q;g.body().appendChild(this.lineDiv)}for(var f=[],p=this.tableMap.findOverlappingNodes(b.cellNode),q=0,n;n=p[q];q++)f.push({node:n,index:this.getCellNodeIndex(n),width:n.offsetWidth});p=b.sourceView;n=this.grid.isLeftToRight()?1:-1;for(var r=b.grid.views.views,q=[],t=p.idx+n,h;h=r[t];t+=n)q.push({node:h.headerNode,left:window.parseInt(h.headerNode.style.left)});n=p.headerContentNode.firstChild;return{scrollLeft:b.sourceView.headerNode.scrollLeft,view:p,node:b.cellNode,index:b.cellIndex,w:a.contentBox(b.cellNode).w,
vw:e.w,table:n,tw:a.contentBox(n).w,spanners:f,followers:q}},beginColumnResize:function(c){this.moverDiv=document.createElement("div");a.style(this.moverDiv,{position:"absolute",left:0});g.body().appendChild(this.moverDiv);a.addClass(this.grid.domNode,"dojoxGridColumnResizing");var d=this.moveable=new b(this.moverDiv),e=this.colResizeSetup(c,!0);d.onMove=h.hitch(this,"doResizeColumn",e);f.connect(d,"onMoveStop",h.hitch(this,function(){this.endResizeColumn(e);e.node.releaseCapture&&e.node.releaseCapture();
this.moveable.destroy();delete this.moveable;this.moveable=null;a.removeClass(this.grid.domNode,"dojoxGridColumnResizing")}));c.cellNode.setCapture&&c.cellNode.setCapture();d.onMouseDown(c)},doResizeColumn:function(b,c,d){var e=d.l,e={deltaX:e,w:b.w+(this.grid.isLeftToRight()?e:-e),vw:b.vw+e,tw:b.tw+e};this.dragRecord={inDrag:b,mover:c,leftTop:d};e.w>=this.minColWidth&&(c?a.style(this.lineDiv,"left",this.lineDiv._origLeft+e.deltaX+"px"):this.doResizeNow(b,e))},endResizeColumn:function(b){if(this.dragRecord){var c=
this.dragRecord.leftTop,c=this.grid.isLeftToRight()?c.l:-c.l,c=c+(Math.max(b.w+c,this.minColWidth)-(b.w+c));d("webkit")&&b.spanners.length&&(c+=a._getPadBorderExtents(b.spanners[0].node).w);this.doResizeNow(b,{deltaX:c,w:b.w+c,vw:b.vw+c,tw:b.tw+c});delete this.dragRecord}a.destroy(this.lineDiv);a.destroy(this.moverDiv);a.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=!0;b.view.update();this._skipBogusClicks=!1;this.grid.onResizeColumn(b.index)},doResizeNow:function(a,b){a.view.convertColPctToFixed();
if(a.view.flexCells&&!a.view.testFlexCells()){var c=r(a.node);c&&(c.style.width="")}for(var e,f,c=0;e=a.spanners[c];c++)f=e.width+b.deltaX,0<f&&(e.node.style.width=f+"px",a.view.setColWidth(e.index,f));if(this.grid.isLeftToRight()||!d("ie"))for(c=0;e=a.followers[c];c++)f=e.left+b.deltaX,e.node.style.left=f+"px";a.node.style.width=b.w+"px";a.view.setColWidth(a.index,b.w);a.view.headerNode.style.width=b.vw+"px";a.view.setColumnsWidth(b.tw);this.grid.isLeftToRight()||(a.view.headerNode.scrollLeft=a.scrollLeft+
b.deltaX)}});n._TableMap=h.extend(function(a){this.mapRows(a)},{map:null,mapRows:function(a){if(a.length){this.map=[];var b;for(b=0;a[b];b++)this.map[b]=[];for(var c=0;b=a[c];c++)for(var e=0,d=0,f,g;f=b[e];e++){for(;this.map[c][d];)d++;this.map[c][d]={c:e,r:c};g=f.rowSpan||1;f=f.colSpan||1;for(var k=0;k<g;k++)for(var p=0;p<f;p++)this.map[c+k][d+p]=this.map[c][d];d+=f}}},dumpMap:function(){for(var a=0,b;b=this.map[a];a++)for(var c=0;b[c];c++);},getMapCoords:function(a,b){for(var c=0,e;e=this.map[c];c++)for(var d=
0,f;f=e[d];d++)if(f.c==b&&f.r==a)return{j:c,i:d};return{j:-1,i:-1}},getNode:function(a,b,c){return(a=a&&a.rows[b])&&a.cells[c]},_findOverlappingNodes:function(a,b,c){var e=[];b=this.getMapCoords(b,c);c=0;for(var d;d=this.map[c];c++)c!=b.j&&(d=(d=d[b.i])?this.getNode(a,d.r,d.c):null)&&e.push(d);return e},findOverlappingNodes:function(a){return this._findOverlappingNodes(r(a),0<=a.parentNode.rowIndex?a.parentNode.rowIndex:l.indexOf(a.parentNode.parentNode.childNodes,a.parentNode),0<=a.cellIndex?a.cellIndex:
l.indexOf(a.parentNode.cells,a))}});return{_Builder:x,_HeaderBuilder:w,_ContentBuilder:m}})},"dojox/grid/_Scroller":function(){define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(m,l,h,g,c){var d=function(b){b&&dojo.forEach(m.toArray(),function(d){d.domNode&&c.isDescendant(d.domNode,b,!0)&&d.destroy()})},f=function(b,d){for(var e=[],a=0,f;f=b.childNodes[a];){a++;var g=c.byId(f);(g&&g.tagName?g.tagName.toLowerCase():"")==d&&e.push(f)}return e};return l("dojox.grid._Scroller",
null,{constructor:function(b){this.setContentNodes(b);this.pageHeights=[];this.pageNodes=[];this.stack=[]},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(b,c,d){switch(arguments.length){case 3:this.rowsPerPage=d;case 2:this.keepRows=c;case 1:this.rowCount=b}this.defaultPageHeight=(0<this.grid.rowHeight?this.grid.rowHeight:
this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();this.scrollboxNode&&(this.scrollboxNode.scrollTop=0,this.scroll(0),this.scrollboxNode.onscroll=h.hitch(this,"onscroll"))},_getPageCount:function(b,c){return b?Math.ceil(b/c)||1:0},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode},setKeepInfo:function(b){this.keepRows=b;this.keepPages=
!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2)},setContentNodes:function(b){this.colCount=(this.contentNodes=b)?this.contentNodes.length:0;this.pageNodes=[];for(b=0;b<this.colCount;b++)this.pageNodes[b]=[]},getDefaultNodes:function(){return this.pageNodes[0]||[]},invalidate:function(){this._invalidating=!0;this.invalidateNodes();this.pageHeights=[];this.height=this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0;this.resize();this._invalidating=
!1},updateRowCount:function(b){this.invalidateNodes();this.rowCount=b;b=this.pageCount;0===b&&(this.height=1);this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<b)for(b-=1;b>=this.pageCount;b--)this.height-=this.getPageHeight(b),delete this.pageHeights[b];else this.pageCount>b&&(this.height+=this.defaultPageHeight*(this.pageCount-b-1)+this.calcLastPageHeight());this.resize()},pageExists:function(b){return Boolean(this.getDefaultPageNode(b))},measurePage:function(b){return this.grid.rowHeight?
((b+1)*this.rowsPerPage>this.rowCount?this.rowCount-b*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight:(b=this.getDefaultPageNode(b))&&b.innerHTML?b.offsetHeight:void 0},positionPage:function(b,c){for(var d=0;d<this.colCount;d++)this.pageNodes[d][b].style.top=c+"px"},repositionPages:function(b){for(var c=this.getDefaultNodes(),d=0,a=0;a<this.stack.length;a++)d=Math.max(this.stack[a],d);var f=(a=c[b])?this.getPageNodePosition(a)+this.getPageHeight(b):0;for(b+=1;b<=d;b++){if(a=c[b]){if(this.getPageNodePosition(a)==
f)break;this.positionPage(b,f)}f+=this.getPageHeight(b)}},installPage:function(b){for(var c=0;c<this.colCount;c++)this.contentNodes[c].appendChild(this.pageNodes[c][b])},preparePage:function(b,c){for(var d=c?this.popPage():null,a=0;a<this.colCount;a++){var f=this.pageNodes[a],g=null===d?this.createPageNode():this.invalidatePageNode(d,f);g.pageIndex=b;f[b]=g}},renderPage:function(b){var c=[],d;for(d=0;d<this.colCount;d++)c[d]=this.pageNodes[d][b];d=0;for(b*=this.rowsPerPage;d<this.rowsPerPage&&b<this.rowCount;d++,
b++)this.renderRow(b,c)},removePage:function(b){var c=0;for(b*=this.rowsPerPage;c<this.rowsPerPage;c++,b++)this.removeRow(b)},destroyPage:function(b){for(var d=0;d<this.colCount;d++){var e=this.invalidatePageNode(b,this.pageNodes[d]);e&&c.destroy(e)}},pacify:function(b){},pacifying:!1,pacifyTicks:200,setPacifying:function(b){this.pacifying!=b&&(this.pacifying=b,this.pacify(this.pacifying))},startPacify:function(){this.startPacifyTicks=(new Date).getTime()},doPacify:function(){var b=(new Date).getTime()-
this.startPacifyTicks>this.pacifyTicks;this.setPacifying(!0);this.startPacify();return b},endPacify:function(){this.setPacifying(!1)},resize:function(){this.scrollboxNode&&(this.windowHeight=this.scrollboxNode.clientHeight);for(var b=0;b<this.colCount;b++)g.setStyleHeightPx(this.contentNodes[b],Math.max(1,this.height));b=!this._invalidating;if(!b){var c=this.grid.get("autoHeight");"number"==typeof c&&c<=Math.min(this.rowsPerPage,this.rowCount)&&(b=!0)}b&&this.needPage(this.page,this.pageTop);b=this.page<
this.pageCount-1?this.rowsPerPage:this.rowCount%this.rowsPerPage||this.rowsPerPage;c=this.getPageHeight(this.page);this.averageRowHeight=0<c&&0<b?c/b:0},calcLastPageHeight:function(){if(!this.pageCount)return 0;var b=(this.rowCount%this.rowsPerPage||this.rowsPerPage)*this.defaultRowHeight;return this.pageHeights[this.pageCount-1]=b},updateContentHeight:function(b){this.height+=b;this.resize()},updatePageHeight:function(b,c,d){if(this.pageExists(b)){var a=this.getPageHeight(b),f=this.measurePage(b);
void 0===f&&(f=a);this.pageHeights[b]=f;if(a!=f){this.updateContentHeight(f-a);var g=this.grid.get("autoHeight");"number"==typeof g&&g>this.rowCount||!0===g&&!c?d?(c=this.grid.viewsNode.style,c.height=parseInt(c.height)+f-a+"px",this.repositionPages(b)):this.grid.sizeChange():this.repositionPages(b)}return f}return 0},rowHeightChanged:function(b,c){this.updatePageHeight(Math.floor(b/this.rowsPerPage),!1,c)},invalidateNodes:function(){for(;this.stack.length;)this.destroyPage(this.popPage())},createPageNode:function(){var b=
document.createElement("div");c.attr(b,"role","presentation");b.style.position="absolute";b.style[this.grid.isLeftToRight()?"left":"right"]="0";return b},getPageHeight:function(b){b=this.pageHeights[b];return void 0!==b?b:this.defaultPageHeight},pushPage:function(b){return this.stack.push(b)},popPage:function(){return this.stack.shift()},findPage:function(b){for(var c=0,d=0,a=0;c<this.pageCount&&!(a=this.getPageHeight(c),d+a>=b);c++,d+=a);this.page=c;this.pageTop=d},buildPage:function(b,c,d){this.preparePage(b,
c);this.positionPage(b,d);this.installPage(b);this.renderPage(b);this.pushPage(b)},needPage:function(b,c){var d=this.getPageHeight(b);this.pageExists(b)?this.positionPage(b,c):(this.buildPage(b,!this.grid._autoHeight&&this.keepPages&&this.stack.length>=this.keepPages,c),d=this.updatePageHeight(b,!0));return d},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop)},scroll:function(b){this.grid.scrollTop=b;if(this.colCount){this.startPacify();this.findPage(b);for(var c=this.height,d=this.getScrollBottom(b),
a=this.page,f=this.pageTop;a<this.pageCount&&(0>d||f<d);a++)f+=this.needPage(a,f);this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,b);this.lastVisibleRow=this.getLastVisibleRow(a-1,f,d);c!=this.height&&this.repositionPages(a-1);this.endPacify()}},getScrollBottom:function(b){return 0<=this.windowHeight?b+this.windowHeight:-1},processNodeEvent:function(b,c){for(var d=b.target;d&&d!=c&&d.parentNode&&d.parentNode.parentNode!=c;)d=d.parentNode;if(!d||!d.parentNode||d.parentNode.parentNode!=
c)return!1;b.topRowIndex=d.parentNode.pageIndex*this.rowsPerPage;var a=b.topRowIndex,f;a:{f=0;for(var g,r=d.parentNode;g=r.childNodes[f++];)if(g==d){f-=1;break a}f=-1}b.rowIndex=a+f;b.rowTarget=d;return!0},processEvent:function(b){return this.processNodeEvent(b,this.contentNode)},renderRow:function(b,c){},removeRow:function(b){},getDefaultPageNode:function(b){return this.getDefaultNodes()[b]},positionPageNode:function(b,c){},getPageNodePosition:function(b){return b.offsetTop},invalidatePageNode:function(b,
c){var e=c[b];e&&(delete c[b],this.removePage(b,e),d(e),e.innerHTML="");return e},getPageRow:function(b){return b*this.rowsPerPage},getLastPageRow:function(b){return Math.min(this.rowCount,this.getPageRow(b+1))-1},getFirstVisibleRow:function(b,c,d){if(!this.pageExists(b))return 0;var a=this.getPageRow(b),g=this.getDefaultNodes();b=f(g[b],"div");for(var g=0,n=b.length;g<n&&c<d;g++,a++)c+=b[g].offsetHeight;return a?a-1:a},getLastVisibleRow:function(b,c,d){if(!this.pageExists(b))return 0;var a=this.getDefaultNodes(),
g=this.getLastPageRow(b);b=f(a[b],"div");for(a=b.length-1;0<=a&&c>d;a--,g--)c-=b[a].offsetHeight;return g+1},findTopRow:function(b){for(var c=this.getDefaultNodes(),c=f(c[this.page],"div"),d=0,a=c.length,g=this.pageTop,n;d<a;d++)if(n=c[d].offsetHeight,g+=n,g>=b)return this.offset=n-(g-b),d+this.page*this.rowsPerPage;return-1},findScrollTop:function(b){var c=Math.floor(b/this.rowsPerPage),d=0,a;for(a=0;a<c;a++)d+=this.getPageHeight(a);this.pageTop=d;this.page=c;this.needPage(c,this.pageTop);a=this.getDefaultNodes();
var g=f(a[c],"div"),c=b-this.rowsPerPage*c;a=0;for(b=g.length;a<b&&a<c;a++)d+=g[a].offsetHeight;return d},dummy:0})})},"dojox/grid/_Layout":function(){define("dojo/_base/kernel ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-geometry ./cells ./_RowSelector".split(" "),function(m,l,h,g,c,d){return h("dojox.grid._Layout",null,{constructor:function(c){this.grid=c},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(c,b,d,e,a){var q=this.structure[c].cells[0],n=this.structure[b].cells[0],
r=null,t=r=0;c=0;for(var p;p=q[c];c++)if(p.index==d){r=c;break}r=q.splice(r,1)[0];r.view=this.grid.views.views[b];c=0;for(p=null;p=n[c];c++)if(p.index==e){t=c;break}a||(t+=1);n.splice(t,0,r);if(d=this.grid.getCell(this.grid.getSortIndex()))d._currentlySorted=this.grid.getSortAsc();this.cells=[];for(c=d=0;b=this.structure[c];c++)for(e=0;a=b.cells[e];e++)for(q=0;p=a[q];q++)p.index=d,this.cells.push(p),"_currentlySorted"in p&&(n=d+1,n*=p._currentlySorted?1:-1,this.grid.sortInfo=n,delete p._currentlySorted),
d++;g.forEach(this.cells,function(a){var b=a.markup[2].split(" ");parseInt(b[1].substring(5))!=a.index&&(b[1]='idx\x3d"'+a.index+'"',a.markup[2]=b.join(" "))});this.grid.setupHeaderMenu()},setColumnVisibility:function(c,b){var g=this.cells[c];if(g.hidden==b){g.hidden=!b;var e=g.view,a=e.viewWidth;a&&"auto"!=a&&(e._togglingColumn=d.getMarginBox(g.getHeaderNode()).w||0);e.update();return!0}return!1},addCellDef:function(d,b,g){var e=this,a=function(a){var b=0;1<a.colSpan?b=0:(b=a.width||e._defaultCellProps.width||
e.defaultWidth,isNaN(b)||(b+="em"));return b};d={grid:this.grid,subrow:d,layoutIndex:b,index:this.cells.length};if(g&&g instanceof l.grid.cells._Base)return b=c.clone(g),d.unitWidth=a(b._props),b=c.mixin(b,this._defaultCellProps,g._props,d);b=g.type||g.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||l.grid.cells.Cell;c.isString(b)&&(b=c.getObject(b));d.unitWidth=a(g);return new b(c.mixin({},this._defaultCellProps,g,d))},addRowDef:function(c,b){for(var d=[],e=0,a=0,q=!0,n=0,
r;r=b[n];n++)r=this.addCellDef(c,n,r),d.push(r),this.cells.push(r),q&&r.relWidth?e+=r.relWidth:r.width&&(r=r.width,"string"==typeof r&&"%"==r.slice(-1)?a+=window.parseInt(r,10):"auto"==r&&(q=!1));e&&q&&g.forEach(d,function(b){b.relWidth&&(b.width=b.unitWidth=b.relWidth/e*(100-a)+"%")});return d},addRowsDef:function(d){var b=[];if(c.isArray(d))if(c.isArray(d[0]))for(var g=0,e;d&&(e=d[g]);g++)b.push(this.addRowDef(g,e));else b.push(this.addRowDef(0,d));return b},addViewDef:function(d){this._defaultCellProps=
d.defaultCell||{};d.width&&"auto"==d.width&&delete d.width;return c.mixin({},d,{cells:this.addRowsDef(d.rows||d.cells)})},setStructure:function(d){this.fieldIndex=0;this.cells=[];var b=this.structure=[];if(this.grid.rowSelector){var g={type:l._scopeName+".grid._RowSelector"};if(c.isString(this.grid.rowSelector)){var e=this.grid.rowSelector;"false"==e?g=null:"true"!=e&&(g.width=e)}else this.grid.rowSelector||(g=null);g&&b.push(this.addViewDef(g))}g=function(a){return null!==a&&c.isObject(a)&&("cells"in
a||"rows"in a||"type"in a&&!("name"in a||"field"in a||"get"in a))};if(c.isArray(d)){for(var e=!1,a=0,q;q=d[a];a++)if(g(q)){e=!0;break}if(e)for(a=0;q=d[a];a++)c.isArray(q)&&(c.isArray(q[0])||"name"in q[0]||"field"in q[0]||"get"in q[0])?b.push(this.addViewDef({cells:q})):g(q)&&b.push(this.addViewDef(q));else b.push(this.addViewDef({cells:d}))}else g(d)&&b.push(this.addViewDef(d));this.cellCount=this.cells.length;this.grid.setupHeaderMenu()}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q){h.isAsync||b(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var n=l("dojo.dnd.Source",a,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,b){g.mixin(this,g.mixin({},b));var d=this.accept;if(d.length){this.accept={};for(var e=0;e<d.length;++e)this.accept[d[e]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;
this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&c.add(this.node,"dojoDndSource");this.targetState="";this.accept&&c.add(this.node,"dojoDndTarget");this.horizontal&&c.add(this.node,"dojoDndHorizontal");this.topics=[k.subscribe("/dnd/source/over",g.hitch(this,"onDndSourceOver")),k.subscribe("/dnd/start",g.hitch(this,"onDndStart")),k.subscribe("/dnd/drop",g.hitch(this,"onDndDrop")),k.subscribe("/dnd/cancel",g.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==
a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,e=!1,f=0;f<d.length;++f)if(d[f]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==q.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){n.superclass.destroy.call(this);m.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&
"Disabled"==this.targetState)){n.superclass.onMouseMove.call(this,a);var b=q.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var c=this.getSelectedNodes();c.length&&b.startDrag(this,c,this.copyState(e.getCopyKeyState(a),!0))}if(this.isDragging){c=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=d.position(this.current,!0);c=this.horizontal?a.pageX-this.targetBox.x<
this.targetBox.w/2==d.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||c!=this.before)this._markTargetAnchor(c),b.canDrop(!this.current||b.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!e.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,n.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&
(this.mouseDown=!1,n.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=q.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?
"":"Disabled");this==a&&q.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(a,b,c){var d=this._normalizedCreator;
this._normalizedCreator=this.creator?function(b,c){return d.call(this,a.getItem(b.id).data,c)}:c?function(b){var c=a.getItem(b.id);b=b.cloneNode(!0);b.id=e.getUniqueId();return{node:b,data:c.data,type:c.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,data:c.data,type:c.type}};this.selectNone();!c&&!this.creator&&a.selectNone();this.insertNodes(!0,b,this.before,this.current);!c&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=d},onDropInternal:function(a,b){var c=
this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=this.creator?function(a,b){return c.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id);a=a.cloneNode(!0);a.id=e.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=
c}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){n.superclass.onOverEvent.call(this);q.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){n.superclass.onOutEvent.call(this);q.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!f.isLeft(a))return!1;
if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(c.contains(a,"dojoDndHandle"))return!0;if(c.contains(a,"dojoDndItem")||c.contains(a,"dojoDndIgnore"))break}return!1}});return n})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(m,l,h,g,c,d,f,b,k,e,a,
q,n){function r(){}function t(a){return function(b,c,d,e){return b&&"string"==typeof c&&b[c]==r?b.on(c.substring(2).toLowerCase(),f.hitch(d,e)):a.apply(h,arguments)}}m.around(h,"connect",t);d.connect&&m.around(d,"connect",t);m=g("dijit._Widget",[a,q,n],{onClick:r,onDblClick:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onMouseDown:r,onMouseMove:r,onMouseOut:r,onMouseOver:r,onMouseLeave:r,onMouseEnter:r,onMouseUp:r,constructor:function(a){this._toConnect={};for(var b in a)this[b]===r&&(this._toConnect[b.replace(/^on/,
"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===r?h.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,
b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?b("[widgetId]",this.containerNode).map(e.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});c("dijit-legacy-requires")&&k(0,function(){require(["dijit/_base"])});return m})},
"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(m,l,h,g){g.extend(l,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return h("dijit._FocusMixin",null,{_focusManager:m})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q,n,r,t,p,u){var x,w,s=new (l([q,f],{curNode:null,activeStack:[],constructor:function(){var a=b.hitch(this,function(a){h.isDescendant(this.curNode,a)&&this.set("curNode",null);h.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});m.before(d,"empty",a);m.before(d,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,c){var d=this,e=b.document&&b.document.body;if(e){var f=a("pointer-events")?"pointerdown":a("MSPointer")?
"MSPointerDown":a("touch-events")?"mousedown, touchstart":"mousedown",g=k(b.document,f,function(a){if(!a||!(a.target&&null==a.target.parentNode))d._onTouchNode(c||a.target,"mouse")}),p=k(e,"focusin",function(a){if(a.target.tagName){var b=a.target.tagName.toLowerCase();"#document"==b||"body"==b||(t.isFocusable(a.target)?d._onFocusNode(c||a.target):d._onTouchNode(c||a.target))}}),q=k(e,"focusout",function(a){d._onBlurNode(c||a.target)});return{remove:function(){g.remove();p.remove();q.remove();e=g=
p=q=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<x+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(b.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<w+100||(this._clearActiveWidgetsTimer=setTimeout(b.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,b){w=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);c.contains(a,"dijitPopup")&&(a=a.firstChild);var d=[];try{for(;a;){var e=g.get(a,"dijitPopupParent");if(e)a=p.byId(e).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===n.body())break;a=r.get(a.ownerDocument).frameElement}else{var f=a.getAttribute&&a.getAttribute("widgetId"),q=f&&p.byId(f);q&&!("mouse"==b&&q.get("disabled"))&&d.unshift(f);a=a.parentNode}}}catch(k){}this._setStack(d,
b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(x=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,d=c.length-1,e=a.length-1;if(a[e]!=c[d]){this.set("activeStack",a);var f;for(f=d;0<=f&&c[f]!=a[f];f--)if(d=p.byId(c[f]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(b),
this.emit("widget-blur",d,b);for(f++;f<=e;f++)if(d=p.byId(a[f]))d.set("focused",!0),d._focusManager==this&&d._onFocus(b),this.emit("widget-focus",d,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));e(function(){var b=s.registerWin(r.get(document));a("ie")&&k(window,"unload",function(){b&&(b.remove(),b=null)})});u.focus=function(a){s.focus(a)};for(var y in s)/^_/.test(y)||(u.focus[y]="function"==typeof s[y]?b.hitch(s,y):s[y]);s.watch(function(a,b,c){u.focus[a]=c});return s})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(m,l){return m("dijit._Contained",null,{_getSibling:function(h){var g=this.domNode;do g=g[h+"Sibling"];while(g&&1!=g.nodeType);return g&&l.byNode(g)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var h=this.getParent();return!h||!h.getIndexOfChild?-1:h.getIndexOfChild(this)}})})},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],
function(m,l,h){return m("dojox.grid._RowManager",null,{constructor:function(g){this.grid=g},linesToEms:2,overRow:-2,prepareStylingRow:function(g,c){return{index:g,node:c,odd:Boolean(g&1),selected:!!this.grid.selection.isSelected(g),over:this.isOver(g),customStyles:"",customClasses:"dojoxGridRow"}},styleRowNode:function(g,c){var d=this.prepareStylingRow(g,c);this.grid.onStyleRow(d);this.applyStyles(d)},applyStyles:function(g){g.node.className=g.customClasses;var c=g.node.style.height,d=g.node,f=g.customStyles+
";"+(g.node._style||"");void 0==d.style.cssText?d.setAttribute("style",f):d.style.cssText=f;g.node.style.height=c},updateStyles:function(g){this.grid.updateRowStyles(g)},setOverRow:function(g){var c=this.overRow;this.overRow=g;c!=this.overRow&&(l.isString(c)||0<=c)&&this.updateStyles(c);this.updateStyles(this.overRow)},isOver:function(g){return this.overRow==g&&!h.contains(this.grid.domNode,"dojoxGridColumnResizing")}})})},"dijit/main":function(){define(["dojo/_base/kernel"],function(m){return m.dijit})},
"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(m,l,h){return h("dijit.Destroyable",null,{destroy:function(g){this._destroyed=!0},own:function(){var g=["destroyRecursive","destroy","remove"];m.forEach(arguments,function(c){function d(){b.remove();m.forEach(k,function(b){b.remove()})}var f,b=l.before(this,"destroy",function(b){c[f](b)}),k=[];c.then?(f="cancel",c.then(d,d)):m.forEach(g,function(b){"function"===typeof c[b]&&(f||(f=b),k.push(l.after(c,
b,d,!0)))})},this);return arguments}})})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(m,l,h,g,c,d,f,b,k,e,a,q,n,r){l=l("dojo.dnd.Container",k,{skipForm:!1,allowNested:!1,constructor:function(b,c){this.node=d.byId(b);c||(c={});this.creator=c.creator||null;this.skipForm=c.skipForm;this.parent=c.dropParent&&d.byId(c.dropParent);
this.map={};this.current=null;this.containerState="";f.add(this.node,"dojoDndContainer");(!c||!c._skipStartup)&&this.startup();this.events=[a(this.node,n.over,g.hitch(this,"onMouseOver")),a(this.node,n.out,g.hitch(this,"onMouseOut")),a(this.node,"dragstart",g.hitch(this,"onSelectStart")),a(this.node,"selectstart",g.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,
b){b=b||h.global;var c=this.map,d=r._empty,e;for(e in c)e in d||a.call(b,c[e],e,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return q((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=r.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);
this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){m.forEach(this.events,function(a){a.remove()});
this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=a[0])}this.defaultCreator=r._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container",
"Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||!r.isFormElement(a))a.stopPropagation(),
a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,d=a.toLowerCase()+"State";f.replace(this.node,c+b,c+this[d]);this[d]=b},_addItemClass:function(a,b){f.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){f.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&f.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,
b){var c=(this.creator||this.defaultCreator).call(this,a,b);g.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=r.getUniqueId());f.add(c.node,"dojoDndItem");return c}});r._createNode=function(a){return!a?r._createSpan:function(c){return b.create(a,{innerHTML:c})}};r._createTrTd=function(a){var c=b.create("tr");b.create("td",{innerHTML:a},c);return c};r._createSpan=function(a){return b.create("span",{innerHTML:a})};r._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};r._defaultCreator=
function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?r._createTrTd:r._createNode(r._defaultCreatorNodes[a]);return function(a,c){var d=a&&g.isObject(a),e,f;d&&a.tagName&&a.nodeType&&a.getAttribute?(e=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],f=a):(e=d&&a.data?a.data:a,d=d&&a.type?a.type:["text"],f=("avatar"==c?r._createSpan:b)(String(e)));f.id||(f.id=r.getUniqueId());return{node:f,data:e,type:d}}};return l})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(m){return m.cache})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(m,l,h,g,c,d,f,b,k,e,a,q,n,r){var t=l("dojo.dnd.Manager",[d],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:f("touch")?0:16,OFFSET_Y:f("touch")?-64:16,overSource:function(a){this.avatar&&
(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());e.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),e.publish("/dnd/source/over",null)):e.publish("/dnd/source/over",null)},startDrag:function(b,d,f){function q(a){a.preventDefault();a.stopPropagation()}n.autoScrollStart(g.doc);this.source=b;this.nodes=d;this.copy=Boolean(f);this.avatar=this.makeAvatar();
g.body().appendChild(this.avatar.node);e.publish("/dnd/start",b,d,this.copy);this.events=[k(g.doc,a.move,h.hitch(this,"onMouseMove")),k(g.doc,a.release,h.hitch(this,"onMouseUp")),k(g.doc,"keydown",h.hitch(this,"onKeyDown")),k(g.doc,"keyup",h.hitch(this,"onKeyUp")),k(g.doc,"dragstart",q),k(g.body(),"selectstart",q)];c.add(g.body(),"dojoDnd"+(f?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){c.remove(g.body(),
["dojoDndCopy","dojoDndMove"]);m.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new r(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var b=this.avatar;b&&(n.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(q.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b));
f("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(q.getCopyKeyState(a)));e.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);e.publish("/dnd/drop",this.source,this.nodes,b,this.target,a)}else e.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case b.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case b.ESCAPE:e.publish("/dnd/cancel"),
this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==b.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();c.replace(g.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});q._manager=null;t.manager=q.manager=function(){q._manager||(q._manager=new t);return q._manager};return t})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(m,l,h,g,c,d,f,b){return m("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var b=d.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),c=this.manager.source,a,q=d.create("tbody",null,b),n=d.create("tr",null,q),h=d.create("td",null,n),l=Math.min(5,this.manager.nodes.length),p=0;f("highcontrast")&&d.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},h);d.create("span",{innerHTML:c.generateText?
this._generateText():""},h);for(g.set(n,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});p<l;++p)c.creator?a=c._normalizedCreator(c.getItem(this.manager.nodes[p].id).data,"avatar").node:(a=this.manager.nodes[p].cloneNode(!0),"tr"==a.tagName.toLowerCase()&&(n=d.create("table"),d.create("tbody",null,n).appendChild(a),a=n)),a.id="",n=d.create("tr",null,q),h=d.create("td",null,n),h.appendChild(a),g.set(n,{"class":"dojoDndAvatarItem",style:{opacity:(9-p)/10}});this.node=b},destroy:function(){d.destroy(this.node);
this.node=!1},update:function(){c.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(f("highcontrast")){var d=h.byId("a11yIcon"),e="+";this.manager.canDropFlag&&!this.manager.copy?e="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?e="o":this.manager.canDropFlag||(e="x");d.innerHTML=e}b("tr.dojoDndAvatarHeader td span"+(f("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(m,l,h,g){return m("dojox.grid._SelectionPreserver",null,{constructor:function(c){this.selection=c;var d=this.grid=c.grid;this.reset();this._connects=[l.connect(d,"_setStore",this,"reset"),l.connect(d,"_addItem",this,"_reSelectById"),l.connect(c,"onSelected",h.hitch(this,"_selectById",!0)),l.connect(c,"onDeselected",h.hitch(this,"_selectById",!1)),l.connect(c,
"deselectAll",this,"reset")]},destroy:function(){this.reset();g.forEach(this._connects,l.disconnect);delete this._connects},reset:function(){this._selectedById={}},_reSelectById:function(c,d){c&&this.grid._hasIdentity&&(this.selection.selected[d]=this._selectedById[this.grid.store.getIdentity(c)])},_selectById:function(c,d){if("none"!=this.selection.mode&&this.grid._hasIdentity){var f=d,b=this.grid;if("number"==typeof d||"string"==typeof d)f=(f=b._by_idx[d])&&f.item;f&&(this._selectedById[b.store.getIdentity(f)]=
!!c);return f}}})})},"dojox/grid/_FocusManager":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/event dojo/_base/sniff dojo/query ./util dojo/_base/html".split(" "),function(m,l,h,g,c,d,f,b,k){return h("dojox.grid._FocusManager",null,{constructor:function(b){this.grid=b;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(g.connect(this.grid.domNode,"onfocus",this,"doFocus"));
this._connects.push(g.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(g.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(g.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(g.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(g.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(g.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(g.connect(this.grid,
"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(g.connect(this.grid,"postrender",this,"_delayedHeaderFocus"))},destroy:function(){m.forEach(this._connects,g.disconnect);m.forEach(this._headerConnects,g.disconnect);delete this.grid;delete this.cell},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:!1,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];
this._initColumnHeaders()},isFocusCell:function(b,a){return this.cell==b&&this.rowIndex==a},isLastFocusCell:function(){return this.cell?this.rowIndex==this.grid.rowCount-1&&this.cell.index==this.grid.layout.cellCount-1:!1},isFirstFocusCell:function(){return this.cell?0===this.rowIndex&&0===this.cell.index:!1},isNoFocusCell:function(){return 0>this.rowIndex||!this.cell},isNavHeader:function(){return!!this._colHeadNode},getHeaderIndex:function(){return this._colHeadNode?m.indexOf(this._findHeaderCells(),
this._colHeadNode):-1},_focusifyCellNode:function(c){var a=this.cell&&this.cell.getNode(this.rowIndex);if(a&&(k.toggleClass(a,this.focusClass,c),c)){c=this.scrollIntoView();try{if(d("webkit")||!this.grid.edit.isEditing())b.fire(a,"focus"),c&&(this.cell.view.scrollboxNode.scrollLeft=c)}catch(f){}}},_delayedCellFocus:function(){if(!this.isNavHeader()&&this.grid.focused){var c=this.cell&&this.cell.getNode(this.rowIndex);if(c)try{this.grid.edit.isEditing()||(k.toggleClass(c,this.focusClass,!0),this._colHeadNode&&
this.blurHeader(),b.fire(c,"focus"))}catch(a){}}},_delayedHeaderFocus:function(){this.isNavHeader()&&this.focusHeader()},_initColumnHeaders:function(){m.forEach(this._headerConnects,g.disconnect);this._headerConnects=[];for(var b=this._findHeaderCells(),a=0;a<b.length;a++)this._headerConnects.push(g.connect(b[a],"onfocus",this,"doColHeaderFocus")),this._headerConnects.push(g.connect(b[a],"onblur",this,"doColHeaderBlur"))},_findHeaderCells:function(){for(var b=f("th",this.grid.viewsHeaderNode),a=[],
c=0;c<b.length;c++){var d=b[c],g=k.hasAttr(d,"tabIndex"),h=k.attr(d,"tabIndex");g&&0>h&&a.push(d)}return a},_setActiveColHeader:function(b,a,c){this.grid.domNode.setAttribute("aria-activedescendant",b.id);null!=c&&(0<=c&&c!=a)&&k.toggleClass(this._findHeaderCells()[c],this.focusClass,!1);k.toggleClass(b,this.focusClass,!0);this._colHeadNode=b;this._colHeadFocusIdx=a;this._scrollHeader(this._colHeadFocusIdx)},scrollIntoView:function(){var b=this.cell?this._scrollInfo(this.cell):null;if(!b||!b.s)return null;
var a=this.grid.scroller.findScrollTop(this.rowIndex);b.n&&b.sr&&(b.n.offsetLeft+b.n.offsetWidth>b.sr.l+b.sr.w?b.s.scrollLeft=b.n.offsetLeft+b.n.offsetWidth-b.sr.w:b.n.offsetLeft<b.sr.l&&(b.s.scrollLeft=b.n.offsetLeft));b.r&&b.sr&&(a+b.r.offsetHeight>b.sr.t+b.sr.h?this.grid.setScrollTop(a+b.r.offsetHeight-b.sr.h):a<b.sr.t&&this.grid.setScrollTop(a));return b.s.scrollLeft},_scrollInfo:function(b,a){if(b){var c=b.view.scrollboxNode,d={w:c.clientWidth,l:c.scrollLeft,t:c.scrollTop,h:c.clientHeight},f=
b.view.getRowNode(this.rowIndex);return{c:b,s:c,sr:d,n:a?a:b.getNode(this.rowIndex),r:f}}return null},_scrollHeader:function(b){var a=null;if(this._colHeadNode){var c=this.grid.getCell(b);if(!c)return;a=this._scrollInfo(c,c.getNode(0))}a&&(a.s&&a.sr&&a.n)&&(a.n.offsetLeft+a.n.offsetWidth>a.sr.l+a.sr.w?a.s.scrollLeft=a.n.offsetLeft+a.n.offsetWidth-a.sr.w:a.n.offsetLeft<a.sr.l?a.s.scrollLeft=a.n.offsetLeft:7>=d("ie")&&(c&&c.view.headerNode)&&(c.view.headerNode.scrollLeft=a.s.scrollLeft))},_isHeaderHidden:function(){var b=
this.focusView;if(!b)for(var a=0,c;c=this.grid.views.views[a];a++)if(c.headerNode){b=c;break}return b&&"none"==k.getComputedStyle(b.headerNode).display},colSizeAdjust:function(b,a,c){var d=this._findHeaderCells(),f=this.focusView;if(!f||!f.header.tableMap.map)for(var g=0,h;h=this.grid.views.views[g];g++)if(h.header.tableMap.map){f=h;break}g=d[a];f&&!(a==d.length-1&&0===a)&&(f.content.baseDecorateEvent(b),b.cellNode=g,b.cellIndex=f.content.getCellNodeIndex(b.cellNode),b.cell=0<=b.cellIndex?this.grid.getCell(b.cellIndex):
null,f.header.canResize(b)&&(a={l:c},b=f.header.colResizeSetup(b,!1),f.header.doResizeColumn(b,null,a),f.update()))},styleRow:function(b){},setFocusIndex:function(b,a){this.setFocusCell(this.grid.getCell(a),b)},setFocusCell:function(b,a){b&&!this.isFocusCell(b,a)&&(this.tabbingOut=!1,this._colHeadNode&&this.blurHeader(),this._colHeadNode=this._colHeadFocusIdx=null,this.focusGridView(),this._focusifyCellNode(!1),this.cell=b,this.rowIndex=a,this._focusifyCellNode(!0));if(d("opera"))setTimeout(l.hitch(this.grid,
"onCellFocus",this.cell,this.rowIndex),1);else this.grid.onCellFocus(this.cell,this.rowIndex)},next:function(){if(this.cell){var b=this.rowIndex,a=this.cell.index+1,c=this.grid.layout.cellCount-1,d=this.grid.rowCount-1;a>c&&(a=0,b++);b>d&&(a=c,b=d);if(this.grid.edit.isEditing()&&(c=this.grid.getCell(a),!this.isLastFocusCell()&&(!c.editable||this.grid.canEdit&&!this.grid.canEdit(c,b)))){this.cell=c;this.rowIndex=b;this.next();return}this.setFocusIndex(b,a)}},previous:function(){if(this.cell){var b=
this.rowIndex||0,a=(this.cell.index||0)-1;0>a&&(a=this.grid.layout.cellCount-1,b--);0>b&&(a=b=0);if(this.grid.edit.isEditing()){var c=this.grid.getCell(a);if(!this.isFirstFocusCell()&&!c.editable){this.cell=c;this.rowIndex=b;this.previous();return}}this.setFocusIndex(b,a)}},move:function(b,a){var c=0>a?-1:1;if(this.isNavHeader()){var d=this._findHeaderCells(),f=currentIdx=m.indexOf(d,this._colHeadNode);for(currentIdx+=a;0<=currentIdx&&currentIdx<d.length&&"none"==d[currentIdx].style.display;)currentIdx+=
c;0<=currentIdx&&currentIdx<d.length&&this._setActiveColHeader(d[currentIdx],currentIdx,f)}else if(this.cell){var g=this.grid.scroller,d=this.rowIndex,f=this.grid.rowCount-1,h=Math.min(f,Math.max(0,d+b));b&&(0<b?h>g.getLastPageRow(g.page)&&this.grid.setScrollTop(this.grid.scrollTop+g.findScrollTop(h)-g.findScrollTop(d)):0>b&&h<=g.getPageRow(g.page)&&this.grid.setScrollTop(this.grid.scrollTop-g.findScrollTop(d)-g.findScrollTop(h)));for(var g=this.grid.layout.cellCount-1,l=this.cell.index,x=Math.min(g,
Math.max(0,l+a)),w=this.grid.getCell(x);0<=x&&x<g&&w&&!0===w.hidden;)x+=c,w=this.grid.getCell(x);if(!w||!0===w.hidden)x=l;c=w.getNode(h);!c&&b?0<=h+b&&h+b<=f&&this.move(0<b?++b:--b,a):(!c||"none"===k.style(c,"display"))&&a?0<=x+a&&x+a<=g&&this.move(b,0<a?++a:--a):(this.setFocusIndex(h,x),b&&this.grid.updateRow(d))}},previousKey:function(b){this.grid.edit.isEditing()?(c.stop(b),this.previous()):!this.isNavHeader()&&!this._isHeaderHidden()?(this.grid.domNode.focus(),c.stop(b)):(this.tabOut(this.grid.domNode),
null!=this._colHeadFocusIdx&&(k.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,!1),this._colHeadFocusIdx=null),this._focusifyCellNode(!1))},nextKey:function(b){b.target===this.grid.domNode&&null==this._colHeadFocusIdx?(this.focusHeader(),c.stop(b)):this.isNavHeader()?(this.blurHeader(),this.findAndFocusGridCell()||this.tabOut(this.grid.lastFocusNode),this._colHeadNode=this._colHeadFocusIdx=null):this.grid.edit.isEditing()?(c.stop(b),this.next()):this.tabOut(this.grid.lastFocusNode)},
tabOut:function(b){this.tabbingOut=!0;b.focus()},focusGridView:function(){b.fire(this.focusView,"focus")},focusGrid:function(b){this.focusGridView();this._focusifyCellNode(!0)},findAndFocusGridCell:function(){var b=!0,a=0===this.grid.rowCount;this.isNoFocusCell()&&!a?(a=0,this.grid.getCell(a).hidden&&(a=this.isNavHeader()?this._colHeadFocusIdx:0),this.setFocusIndex(0,a)):this.cell&&!a?(this.focusView&&!this.focusView.rowNodes[this.rowIndex]&&this.grid.scrollToRow(this.rowIndex),this.focusGrid()):
b=!1;this._colHeadNode=this._colHeadFocusIdx=null;return b},focusHeader:function(){var b=this._findHeaderCells(),a=this._colHeadFocusIdx;this._isHeaderHidden()?this.findAndFocusGridCell():this._colHeadFocusIdx||(this.isNoFocusCell()?this._colHeadFocusIdx=0:this._colHeadFocusIdx=this.cell.index);for(this._colHeadNode=b[this._colHeadFocusIdx];this._colHeadNode&&0<=this._colHeadFocusIdx&&this._colHeadFocusIdx<b.length&&"none"==this._colHeadNode.style.display;)this._colHeadFocusIdx++,this._colHeadNode=
b[this._colHeadFocusIdx];this._colHeadNode&&"none"!=this._colHeadNode.style.display?(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode&&(this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode),this.headerMenu.bindDomNode(this.grid.domNode),this._contextMenuBindNode=this.grid.domNode),this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,a),this._scrollHeader(this._colHeadFocusIdx),this._focusifyCellNode(!1)):this.findAndFocusGridCell()},blurHeader:function(){k.removeClass(this._colHeadNode,
this.focusClass);k.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var b=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(b);this._contextMenuBindNode=b}},doFocus:function(b){b&&b.target!=b.currentTarget?c.stop(b):this._clickFocus||(this.tabbingOut||this.focusHeader(),this.tabbingOut=!1,c.stop(b))},doBlur:function(b){c.stop(b)},doContextMenu:function(b){this.headerMenu||c.stop(b)},
doLastNodeFocus:function(b){this.tabbingOut?this._focusifyCellNode(!1):0<this.grid.rowCount?(this.isNoFocusCell()&&this.setFocusIndex(0,0),this._focusifyCellNode(!0)):this.focusHeader();this.tabbingOut=!1;c.stop(b)},doLastNodeBlur:function(b){c.stop(b)},doColHeaderFocus:function(b){this._setActiveColHeader(b.target,k.attr(b.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());c.stop(b)},doColHeaderBlur:function(b){k.toggleClass(b.target,this.focusClass,!1)},_mouseDown:function(b){this._clickFocus=
dojo.some(this.grid.views.views,function(a){return a.scrollboxNode===b.target})},_mouseUp:function(b){this._clickFocus=!1}})})},"dojox/grid/_Events":function(){define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(m,l,h,g,c){return h("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(c){this.dispatchKeyEvent(c)},onContentEvent:function(c){this.dispatchContentEvent(c)},onHeaderEvent:function(c){this.dispatchHeaderEvent(c)},
onStyleRow:function(c){c.customClasses+=(c.odd?" dojoxGridRowOdd":"")+(c.selected?" dojoxGridRowSelected":"")+(c.over?" dojoxGridRowOver":"");this.focus.styleRow(c);this.edit.styleRow(c)},onKeyDown:function(c){if(!c.altKey&&!c.metaKey){var f;switch(c.keyCode){case m.ESCAPE:this.edit.cancel();break;case m.ENTER:if(!this.edit.isEditing()){f=this.focus.getHeaderIndex();if(0<=f){this.setSortIndex(f);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(c),c.shiftKey);g.stop(c)}c.shiftKey||
(f=this.edit.isEditing(),this.edit.apply(),f||this.edit.setEditCell(this.focus.cell,this.focus.rowIndex));this.edit.isEditing()||((this.focus.focusView||this.views.views[0]).content.decorateEvent(c),this.onRowClick(c),g.stop(c));break;case m.SPACE:if(!this.edit.isEditing()){f=this.focus.getHeaderIndex();if(0<=f){this.setSortIndex(f);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(c),c.shiftKey);g.stop(c)}break;case m.TAB:this.focus[c.shiftKey?"previousKey":"nextKey"](c);break;
case m.LEFT_ARROW:case m.RIGHT_ARROW:if(!this.edit.isEditing()){var b=c.keyCode;g.stop(c);f=this.focus.getHeaderIndex();0<=f&&c.shiftKey&&c.ctrlKey?this.focus.colSizeAdjust(c,f,5*(b==m.LEFT_ARROW?-1:1)):(c=b==m.LEFT_ARROW?1:-1,this.isLeftToRight()&&(c*=-1),this.focus.move(0,c))}break;case m.UP_ARROW:!this.edit.isEditing()&&0!==this.focus.rowIndex&&(g.stop(c),this.focus.move(-1,0));break;case m.DOWN_ARROW:!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount&&(g.stop(c),this.focus.move(1,0));
break;case m.PAGE_UP:!this.edit.isEditing()&&0!==this.focus.rowIndex&&(g.stop(c),this.focus.rowIndex!=this.scroller.firstVisibleRow+1?this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1)),this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0)));break;case m.PAGE_DOWN:!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount&&(g.stop(c),this.focus.rowIndex!=this.scroller.lastVisibleRow-
1?this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1)),this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0)))}}},onMouseOver:function(c){-1==c.rowIndex?this.onHeaderCellMouseOver(c):this.onCellMouseOver(c)},onMouseOut:function(c){-1==c.rowIndex?this.onHeaderCellMouseOut(c):this.onCellMouseOut(c)},onMouseDown:function(c){-1==c.rowIndex?this.onHeaderCellMouseDown(c):this.onCellMouseDown(c)},
onMouseOverRow:function(c){this.rows.isOver(c.rowIndex)||(this.rows.setOverRow(c.rowIndex),-1==c.rowIndex?this.onHeaderMouseOver(c):this.onRowMouseOver(c))},onMouseOutRow:function(c){if(this.rows.isOver(-1))this.onHeaderMouseOut(c);else this.rows.isOver(-2)||(this.rows.setOverRow(-2),this.onRowMouseOut(c))},onMouseDownRow:function(c){if(-1!=c.rowIndex)this.onRowMouseDown(c)},onCellMouseOver:function(c){c.cellNode&&l.add(c.cellNode,this.cellOverClass)},onCellMouseOut:function(c){c.cellNode&&l.remove(c.cellNode,
this.cellOverClass)},onCellMouseDown:function(c){},onCellClick:function(c){this._click[0]=this._click[1];this._click[1]=c;this.edit.isEditCell(c.rowIndex,c.cellIndex)||this.focus.setFocusCell(c.cell,c.rowIndex);1<this._click.length&&null==this._click[0]&&this._click.shift();this.onRowClick(c)},onCellDblClick:function(d){var f;f=1<this._click.length&&c("ie")?this._click[1]:1<this._click.length&&this._click[0].rowIndex!=this._click[1].rowIndex?this._click[0]:d;this.focus.setFocusCell(f.cell,f.rowIndex);
this.edit.setEditCell(f.cell,f.rowIndex);this.onRowDblClick(d)},onCellContextMenu:function(c){this.onRowContextMenu(c)},onCellFocus:function(c,f){this.edit.cellFocus(c,f)},onRowClick:function(c){this.edit.rowClick(c);this.selection.clickSelectEvent(c)},onRowDblClick:function(c){},onRowMouseOver:function(c){},onRowMouseOut:function(c){},onRowMouseDown:function(c){},onRowContextMenu:function(c){g.stop(c)},onHeaderMouseOver:function(c){},onHeaderMouseOut:function(c){},onHeaderCellMouseOver:function(c){c.cellNode&&
l.add(c.cellNode,this.cellOverClass)},onHeaderCellMouseOut:function(c){c.cellNode&&l.remove(c.cellNode,this.cellOverClass)},onHeaderCellMouseDown:function(c){},onHeaderClick:function(c){},onHeaderCellClick:function(c){this.setSortIndex(c.cell.index);this.onHeaderClick(c)},onHeaderDblClick:function(c){},onHeaderCellDblClick:function(c){this.onHeaderDblClick(c)},onHeaderCellContextMenu:function(c){this.onHeaderContextMenu(c)},onHeaderContextMenu:function(c){this.headerMenu||g.stop(c)},onStartEdit:function(c,
f){},onApplyCellEdit:function(c,f,b){},onCancelEdit:function(c){},onApplyEdit:function(c){},onCanSelect:function(c){return!0},onCanDeselect:function(c){return!0},onSelected:function(c){this.updateRowStyles(c)},onDeselected:function(c){this.updateRowStyles(c)},onSelectionChanged:function(){}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(m,l,h,g,c,d,f,b,k,e,a,q){f=m("dijit.MenuItem"+(d("dojo-bidi")?"_NoBidi":""),[b,k,e,a],{templateString:q,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);h.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&h.set(this.accelKeyNode,"id",this.id+"_accel");l.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==d("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){g.toggle(this.domNode,
"dijitMenuItemSelected",a)},setLabel:function(a){c.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){c.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=
a?"":"none",this.accelKeyNode.innerHTML=a,h.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});d("dojo-bidi")&&(f=m("dijit.MenuItem",f,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return f})},"dojox/grid/_RowSelector":function(){define(["dojo/_base/declare","./_View"],function(m,l){return m("dojox.grid._RowSelector",l,{defaultWidth:"2em",noscroll:!0,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",
arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden"},getWidth:function(){return this.viewWidth||this.defaultWidth},buildRowContent:function(h,g){g.innerHTML='\x3ctable class\x3d"dojoxGridRowbarTable" style\x3d"width:'+(this.contentWidth||0)+'px;height:1px;" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd class\x3d"dojoxGridRowbarInner"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'},renderHeader:function(){},
updateRow:function(){},resize:function(){this.adaptHeight()},adaptWidth:function(){!("contentWidth"in this)&&(this.contentNode&&0<this.contentNode.offsetWidth)&&(this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth)},doStyleRowNode:function(h,g){var c=["dojoxGridRowbar dojoxGridNonNormalizedCell"];this.grid.rows.isOver(h)&&c.push("dojoxGridRowbarOver");this.grid.selection.isSelected(h)&&c.push("dojoxGridRowbarSelected");g.className=c.join(" ")},domouseover:function(h){this.grid.onMouseOverRow(h)},
domouseout:function(h){if(!this.isIntraRowEvent(h))this.grid.onMouseOutRow(h)}})})},"url:dojox/grid/resources/View.html":'\x3cdiv class\x3d"dojoxGridView" role\x3d"presentation"\x3e\n\t\x3cdiv class\x3d"dojoxGridHeader" dojoAttachPoint\x3d"headerNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv dojoAttachPoint\x3d"headerNodeContainer" style\x3d"width:9000em" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv dojoAttachPoint\x3d"headerContentNode" role\x3d"row"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" dojoAttachPoint\x3d"hiddenFocusNode" role\x3d"presentation" /\x3e\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" role\x3d"presentation" /\x3e\n\t\x3cdiv class\x3d"dojoxGridScrollbox" dojoAttachPoint\x3d"scrollboxNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dojoxGridContent" dojoAttachPoint\x3d"contentNode" hidefocus\x3d"hidefocus" role\x3d"presentation"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dojox/grid/resources/_Grid.html":'\x3cdiv hidefocus\x3d"hidefocus" role\x3d"grid" dojoAttachEvent\x3d"onmouseout:_mouseOut"\x3e\n\t\x3cdiv class\x3d"dojoxGridMasterHeader" dojoAttachPoint\x3d"viewsHeaderNode" role\x3d"presentation"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dojoxGridMasterView" dojoAttachPoint\x3d"viewsNode" role\x3d"presentation"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dojoxGridMasterMessages" style\x3d"display: none;" dojoAttachPoint\x3d"messagesNode"\x3e\x3c/div\x3e\n\t\x3cspan dojoAttachPoint\x3d"lastFocusNode" tabindex\x3d"0"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${!checkedChar}\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\n\x3c/tr\x3e\n',
"*now":function(m){m(['dojo/i18n!*preload*dojox/grid/nls/DataGrid*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dojox/grid/DataGrid","../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),function(m,l,h,g,c,d,f,b,k){var e=d("dojox.grid.DataGrid",f,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,
rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new b(this)},get:function(a,b){if(b&&"_item"==this.field&&!this.fields)return b;if(b&&this.fields){var c=[],d=this.grid.store;l.forEach(this.fields,
function(a){c=c.concat(d.getValues(b,a))});return c}return!b&&"string"===typeof a?this.inherited(arguments):!b?this.defaultValue:!this.field?this.value:"_item"==this.field?b:this.grid.store.getValue(b,this.field)},_checkUpdateStatus:function(){if(0<this.updateDelay){var a=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,a=!0);this.updating||(this.beginUpdate(),a=!0);if(a){var b=this;this._endUpdateDelay=setTimeout(function(){delete b._endUpdateDelay;b.endUpdate()},
this.updateDelay)}}},_onSet:function(a,b,c,d){this._checkUpdateStatus();a=this.getItemIndex(a);-1<a&&this.updateRow(a)},_createItem:function(a,b){var c=this._hasIdentity?this.store.getIdentity(a):g.toJson(this.query)+":idx:"+b+":sort:"+g.toJson(this.getSortProps());return this._by_idty[c]={idty:c,item:a}},_addItem:function(a,b,c){this._by_idx[b]=this._createItem(a,b);c||this.updateRow(b)},_onNew:function(a,b){this._checkUpdateStatus();var c=this.get("rowCount");this._addingItem=!0;this.updateRowCount(c+
1);this._addingItem=!1;this._addItem(a,c);this.showMessage()},_onDelete:function(a){this._checkUpdateStatus();a=this._getItemIndex(a,!0);if(0<=a){this._pages=[];this._eop=this._bop=-1;var b=this._by_idx[a];this._by_idx.splice(a,1);delete this._by_idty[b.idty];this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(a)&&(this.selection.deselect(a),this.selection.selected.splice(a,1))},_onRevert:function(){this._refresh()},
setStore:function(a,b,c){this._requestsPending(0)||(this._setQuery(b,c),this._setStore(a),this._refresh(!0))},setQuery:function(a,b){this._requestsPending(0)||(this._setQuery(a,b),this._refresh(!0))},setItems:function(a){this.items=a;this._setStore(this.store);this._refresh(!0)},_setQuery:function(a,b){this.query=a;this.queryOptions=b||this.queryOptions},_setStore:function(a){this.store&&this._store_connects&&l.forEach(this._store_connects,this.disconnect,this);if(this.store=a){a=this.store.getFeatures();
var b=[];this._canEdit=!!a["dojo.data.api.Write"]&&!!a["dojo.data.api.Identity"];this._hasIdentity=!!a["dojo.data.api.Identity"];a["dojo.data.api.Notification"]&&!this.items&&(b.push(this.connect(this.store,"onSet","_onSet")),b.push(this.connect(this.store,"onNew","_onNew")),b.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&b.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=b}},_onFetchBegin:function(a,b){this.scroller&&(this.rowCount!=a&&(b.isRender?
(this.scroller.init(a,this.keepRows,this.rowsPerPage),this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(a)),a?this.showMessage():(this.views.render(),this._resize(),this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(a,b){this.scroller&&(a&&0<a.length&&(l.forEach(a,function(a,c){this._addItem(a,b.start+c,!0)},this),this.updateRows(b.start,a.length),b.isRender?
(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),c("ie")&&k.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[b.start]=!1)},_onFetchError:function(a,b){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[b.start]=!1;this.onFetchError(a,b)},onFetchError:function(a,
b){},_fetch:function(a,b){a=a||0;if(this.store&&!this._pending_requests[a]){!this._isLoaded&&!this._isLoading&&(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[a]=!0;try{if(this.items){var c=this.items,d=this.store;this.rowsPerPage=c.length;var e={start:a,count:this.rowsPerPage,isRender:b};this._onFetchBegin(c.length,e);var f=0;l.forEach(c,function(a){d.isItemLoaded(a)||f++});if(0===f)this._onFetchComplete(c,e);else{var g=function(a){f--;0===f&&this._onFetchComplete(c,
e)};l.forEach(c,function(a){d.isItemLoaded(a)||d.loadItem({item:a,onItem:g,scope:this})},this)}}else this.store.fetch({start:a,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:b,onBegin:h.hitch(this,"_onFetchBegin"),onComplete:h.hitch(this,"_onFetchComplete"),onError:h.hitch(this,"_onFetchError")})}catch(k){this._onFetchError(k,{start:a,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];
this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(a){var b=this._by_idx[a];return!b||b&&!b.item?(this._preparePage(a),null):b.item},getItemIndex:function(a){return this._getItemIndex(a,!1)},_getItemIndex:function(a,b){if(!b&&!this.store.isItem(a))return-1;for(var c=this._hasIdentity?this.store.getIdentity(a):null,d=0,e=this._by_idx.length;d<e;d++){var f=this._by_idx[d];if(f&&(c&&f.idty==c||f.item===a))return d}return-1},filter:function(a,b){this.query=a;b&&
this._clearData();this._fetch()},_getItemAttr:function(a,b){var c=this.getItem(a);return!c?this.fetchText:this.store.getValue(c,b)},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(a){return this._pending_requests[a]},_rowToPage:function(a){return this.rowsPerPage?Math.floor(a/this.rowsPerPage):a},_pageToRow:function(a){return this.rowsPerPage?this.rowsPerPage*a:a},_preparePage:function(a){if((a<
this._bop||a>=this._eop)&&!this._addingItem)a=this._rowToPage(a),this._needPage(a),this._bop=a*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"))},_needPage:function(a){this._pages[a]||(this._pages[a]=!0,this._requestPage(a))},_requestPage:function(a){a=this._pageToRow(a);0<Math.min(this.rowsPerPage,this.get("rowCount")-a)&&(this._requests++,this._requestsPending(a)||setTimeout(h.hitch(this,"_fetch",a,!1),1))},getCellName:function(a){return a.field},_refresh:function(a){this._clearData();
this._fetch(0,a)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var a=this.getCell(this.getSortIndex());if(a){var b=a.sortDesc,c=!(0<this.sortInfo);return[{attribute:a.field,descending:"undefined"==typeof b?c:c?!b:b}]}return this.sortFields?this.sortFields:null},styleRowState:function(a){if(this.store&&this.store.getState){for(var b=this.store.getState(a.index),c="",d=0,e=["inflight","error",
"inserting"],f;f=e[d];d++)if(b[f]){c=" dojoxGridRow-"+f;break}a.customClasses+=c}},onStyleRow:function(a){this.styleRowState(a);this.inherited(arguments)},canEdit:function(a,b){return this._canEdit},_copyAttr:function(a,b){var c=this.getItem(a);return this.store.getValue(c,b)},doStartEdit:function(a,b){this._cache[b]||(this._cache[b]=this._copyAttr(b,a.field));this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,c){this.store.fetchItemByIdentity({identity:this._by_idx[b].idty,onItem:h.hitch(this,function(d){var e=
this.store.getValue(d,c);"number"==typeof e?a=isNaN(a)?a:parseFloat(a):"boolean"==typeof e?a="true"==a?!0:"false"==a?!1:a:e instanceof Date&&(e=new Date(a),a=isNaN(e.getTime())?a:e);this.store.setValue(d,c,a);this.onApplyCellEdit(a,b,c)})})},doCancelEdit:function(a){this._cache[a]&&(this.updateRow(a),delete this._cache[a]);this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(a,b){this.onApplyEdit(a)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var a=h.hitch(this,function(a){a.length&&
(l.forEach(a,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:a}):a(this.selection.getSelected())}}});e.cell_markupFactory=function(a,b,c){var d=h.trim(k.attr(b,"field")||"");d&&(c.field=d);c.field=c.field||c.name;if(d=h.trim(k.attr(b,"fields")||""))c.fields=d.split(",");a&&a(b,c)};e.markupFactory=function(a,b,c,d){return f.markupFactory(a,b,c,h.partial(e.cell_markupFactory,d))};return e});
//# sourceMappingURL=DataGrid.js.uncompressed.js.map