//>>built
require({cache:{"dojox/dtl/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojox/string/tokenize dojo/_base/json dojo/dom dojo/_base/xhr dojox/string/Builder dojo/_base/Deferred".split(" "),function(k,h,g,e,c,a,b,d){k.experimental("dojox.dtl");var f=h.getObject("dojox.dtl",!0);f._base={};f.TOKEN_BLOCK=-1;f.TOKEN_VAR=-2;f.TOKEN_COMMENT=-3;f.TOKEN_TEXT=3;f._Context=h.extend(function(a){a&&(h._mixin(this,a),a.get&&(this._getter=a.get,delete this.get))},{push:function(){var a=this,b=h.delegate(this);
b.pop=function(){return a};return b},pop:function(){throw Error("pop() called on empty Context");},get:function(a,b){var d=this._normalize;if(this._getter){var f=this._getter(a);if(void 0!==f)return d(f)}return void 0!==this[a]?d(this[a]):b},_normalize:function(a){a instanceof Date&&(a.year=a.getFullYear(),a.month=a.getMonth()+1,a.day=a.getDate(),a.date=a.year+"-"+("0"+a.month).slice(-2)+"-"+("0"+a.day).slice(-2),a.hour=a.getHours(),a.minute=a.getMinutes(),a.second=a.getSeconds(),a.microsecond=a.getMilliseconds());
return a},update:function(a){var b=this.push();a&&h._mixin(this,a);return b}});var l=/("(?:[^"\\]*(?:\\.[^"\\]*)*)"|'(?:[^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+)/g,n=/\s+/g,p=function(a,b){a=a||n;a instanceof RegExp||(a=RegExp(a,"g"));if(!a.global)throw Error("You must use a globally flagged RegExp with split "+a);a.exec("");for(var d,f=[],c=0,e=0;(d=a.exec(this))&&!(f.push(this.slice(c,a.lastIndex-d[0].length)),c=a.lastIndex,b&&++e>b-1););f.push(this.slice(c));return f};f.Token=function(a,b){this.token_type=
a;this.contents=new String(h.trim(b));this.contents.split=p;this.split=function(){return String.prototype.split.apply(this.contents,arguments)}};f.Token.prototype.split_contents=function(a){var b,d=[],f=0;for(a=a||999;f++<a&&(b=l.exec(this.contents));)b=b[0],'"'==b.charAt(0)&&'"'==b.slice(-1)?d.push('"'+b.slice(1,-1).replace('\\"','"').replace("\\\\","\\")+'"'):"'"==b.charAt(0)&&"'"==b.slice(-1)?d.push("'"+b.slice(1,-1).replace("\\'","'").replace("\\\\","\\")+"'"):d.push(b);return d};var m=f.text=
{_get:function(a,b,d){a=f.register.get(a,b.toLowerCase(),d);if(!a){if(!d)throw Error("No tag found for "+b);return null}d=a[1];a=a[2];-1!=d.indexOf(":")&&(d=d.split(":"),d=d.pop());var c=a;/\./.test(a)&&(a=a.replace(/\./g,"/"));require([a],function(){});a=h.getObject(c);return a[d||b]||a[b+"_"]||a[d+"_"]},getTag:function(a,b){return m._get("tag",a,b)},getFilter:function(a,b){return m._get("filter",a,b)},getTemplate:function(a){return new f.Template(m.getTemplateString(a))},getTemplateString:function(b){return a._getText(b.toString())||
""},_resolveLazy:function(b,d,c){return d?c?c.fromJson(a._getText(b))||{}:f.text.getTemplateString(b):a.get({handleAs:c?"json":"text",url:b})},_resolveTemplateArg:function(a,b){if(m._isTemplate(a)){if(!b){var f=new d;f.callback(a);return f}return a}return m._resolveLazy(a,b)},_isTemplate:function(a){return void 0===a||"string"==typeof a&&(a.match(/^\s*[<{]/)||-1!=a.indexOf(" "))},_resolveContextArg:function(a,b){if(a.constructor==Object){if(!b){var f=new d;f.callback(a);return f}return a}return m._resolveLazy(a,
b,!0)},_re:/(?:\{\{\s*(.+?)\s*\}\}|\{%\s*(load\s*)?(.+?)\s*%\})/g,tokenize:function(a){return g(a,m._re,m._parseDelims)},_parseDelims:function(a,b,d){if(a)return[f.TOKEN_VAR,a];if(b){a=h.trim(d).split(/\s+/g);for(b=0;d=a[b];b++)/\./.test(d)&&(d=d.replace(/\./g,"/")),require([d])}else return[f.TOKEN_BLOCK,d]}};f.Template=h.extend(function(a,b){var d=b?a:m._resolveTemplateArg(a,!0)||"",d=m.tokenize(d);this.nodelist=(new f._Parser(d)).parse()},{update:function(a,b){return m._resolveContextArg(b).addCallback(this,
function(b){var d=this.render(new f._Context(b));a.forEach?a.forEach(function(a){a.innerHTML=d}):c.byId(a).innerHTML=d;return this})},render:function(a,b){b=b||this.getBuffer();a=a||new f._Context({});return this.nodelist.render(a,b)+""},getBuffer:function(){return new b}});var q=/\{\{\s*(.+?)\s*\}\}/g;f.quickFilter=function(a){if(!a)return new f._NodeList;if(-1==a.indexOf("{%"))return new f._QuickNodeList(g(a,q,function(a){return new f._Filter(a)}))};f._QuickNodeList=h.extend(function(a){this.contents=
a},{render:function(a,b){for(var d=0,f=this.contents.length;d<f;d++)b=this.contents[d].resolve?b.concat(this.contents[d].resolve(a)):b.concat(this.contents[d]);return b},dummyRender:function(a){return this.render(a,f.Template.prototype.getBuffer()).toString()},clone:function(a){return this}});f._Filter=h.extend(function(a){if(!a)throw Error("Filter must be called with variable name");this.contents=a;var b=this._cache[a];b?(this.key=b[0],this.filters=b[1]):(this.filters=[],g(a,this._re,this._tokenize,
this),this._cache[a]=[this.key,this.filters])},{_cache:{},_re:/(?:^_\("([^\\"]*(?:\\.[^\\"])*)"\)|^"([^\\"]*(?:\\.[^\\"]*)*)"|^([a-zA-Z0-9_.]+)|\|(\w+)(?::(?:_\("([^\\"]*(?:\\.[^\\"])*)"\)|"([^\\"]*(?:\\.[^\\"]*)*)"|([a-zA-Z0-9_.]+)|'([^\\']*(?:\\.[^\\']*)*)'))?|^'([^\\']*(?:\\.[^\\']*)*)')/g,_values:{"0":'"',1:'"',2:"",8:'"'},_args:{4:'"',5:'"',6:"",7:"'"},_tokenize:function(){for(var a,b,d=0,f=[];d<arguments.length;d++)f[d]=void 0!==arguments[d]&&"string"==typeof arguments[d]&&arguments[d];if(this.key){for(a in this._args)if(f[a]){b=
arguments[a];"'"==this._args[a]?b=b.replace(/\\'/g,"'"):'"'==this._args[a]&&(b=b.replace(/\\"/g,'"'));b=[!this._args[a],b];break}a=m.getFilter(arguments[3]);if(!h.isFunction(a))throw Error(arguments[3]+" is not registered as a filter");this.filters.push([a,b])}else for(a in this._values)if(f[a]){this.key=this._values[a]+arguments[a]+this._values[a];break}},getExpression:function(){return this.contents},resolve:function(a){if(void 0===this.key)return"";for(var b=this.resolvePath(this.key,a),d=0,f;f=
this.filters[d];d++)b=f[1]?f[1][0]?f[0](b,this.resolvePath(f[1][1],a)):f[0](b,f[1][1]):f[0](b);return b},resolvePath:function(a,b){var d,c;d=a.charAt(0);c=a.slice(-1);if(isNaN(parseInt(d)))if('"'==d&&d==c)d=a.slice(1,-1);else{if("true"==a)return!0;if("false"==a)return!1;if("null"==a||"None"==a)return null;c=a.split(".");d=b.get(c[0]);if(h.isFunction(d)){var e=b.getThis&&b.getThis();d=d.alters_data?"":e?d.call(e):""}for(e=1;e<c.length;e++){var l=c[e];if(d){var g=d;if(h.isObject(d)&&"items"==l&&void 0===
d[l]){var l=[],n;for(n in d)l.push([n,d[n]]);d=l}else{if(d.get&&h.isFunction(d.get)&&d.get.safe)d=d.get(l);else if(void 0===d[l]){d=d[l];break}else d=d[l];h.isFunction(d)?d=d.alters_data?"":d.call(g):d instanceof Date&&(d=f._Context.prototype._normalize(d))}}else return""}}else d=-1==a.indexOf(".")?parseInt(a):parseFloat(a);return d}});f._TextNode=f._Node=h.extend(function(a){this.contents=a},{set:function(a){this.contents=a;return this},render:function(a,b){return b.concat(this.contents)},isEmpty:function(){return!h.trim(this.contents)},
clone:function(){return this}});f._NodeList=h.extend(function(a){this.contents=a||[];this.last=""},{push:function(a){this.contents.push(a);return this},concat:function(a){this.contents=this.contents.concat(a);return this},render:function(a,b){for(var d=0;d<this.contents.length;d++)if(b=this.contents[d].render(a,b),!b)throw Error("Template must return buffer");return b},dummyRender:function(a){return this.render(a,f.Template.prototype.getBuffer()).toString()},unrender:function(a,b){return b},clone:function(){return this},
rtrim:function(){for(;;)if(i=this.contents.length-1,this.contents[i]instanceof f._TextNode&&this.contents[i].isEmpty())this.contents.pop();else break;return this}});f._VarNode=h.extend(function(a){this.contents=new f._Filter(a)},{render:function(a,b){var d=this.contents.resolve(a);d.safe||(d=f._base.escape(""+d));return b.concat(d)}});f._noOpNode=new function(){this.render=this.unrender=function(a,b){return b};this.clone=function(){return this}};f._Parser=h.extend(function(a){this.contents=a},{i:0,
parse:function(a){var b={},d;a=a||[];for(var c=0;c<a.length;c++)b[a[c]]=!0;for(c=new f._NodeList;this.i<this.contents.length;)if(d=this.contents[this.i++],"string"==typeof d)c.push(new f._TextNode(d));else{var e=d[0];d=d[1];if(e==f.TOKEN_VAR)c.push(new f._VarNode(d));else if(e==f.TOKEN_BLOCK){if(b[d])return--this.i,c;var l=d.split(/\s+/g);l.length&&(l=l[0],(l=m.getTag(l))&&c.push(l(this,new f.Token(e,d))))}}if(a.length)throw Error("Could not find closing tag(s): "+a.toString());this.contents.length=
0;return c},next_token:function(){var a=this.contents[this.i++];return new f.Token(a[0],a[1])},delete_first_token:function(){this.i++},skip_past:function(a){for(;this.i<this.contents.length;){var b=this.contents[this.i++];if(b[0]==f.TOKEN_BLOCK&&b[1]==a)return}throw Error("Unclosed tag found when looking for "+a);},create_variable_node:function(a){return new f._VarNode(a)},create_text_node:function(a){return new f._TextNode(a||"")},getTemplate:function(a){return new f.Template(a)}});f.register={_registry:{attributes:[],
tags:[],filters:[]},get:function(a,b){for(var d=f.register._registry[a+"s"],c=0,e;e=d[c];c++)if("string"==typeof e[0]){if(e[0]==b)return e}else if(b.match(e[0]))return e},getAttributeTags:function(){for(var a=[],b=f.register._registry.attributes,d=0,c;c=b[d];d++)if(3==c.length)a.push(c);else{var e=h.getObject(c[1]);e&&h.isFunction(e)&&(c.push(e),a.push(c))}return a},_any:function(a,b,d){for(var c in d)for(var e=0,l;l=d[c][e];e++){var g=l;h.isArray(l)&&(g=l[0],l=l[1]);if("string"==typeof g){if("attr:"==
g.substr(0,5)){var n=l;"attr:"==n.substr(0,5)&&(n=n.slice(5));f.register._registry.attributes.push([n.toLowerCase(),b+"."+c+"."+n])}g=g.toLowerCase()}f.register._registry[a].push([g,l,b+"."+c])}},tags:function(a,b){f.register._any("tags",a,b)},filters:function(a,b){f.register._any("filters",a,b)}};var r=/&/g,s=/</g,t=/>/g,u=/'/g,v=/"/g;f._base.escape=function(a){return f.mark_safe(a.replace(r,"\x26amp;").replace(s,"\x26lt;").replace(t,"\x26gt;").replace(v,"\x26quot;").replace(u,"\x26#39;"))};f._base.safe=
function(a){"string"==typeof a&&(a=new String(a));"object"==typeof a&&(a.safe=!0);return a};f.mark_safe=f._base.safe;f.register.tags("dojox.dtl.tag",{date:["now"],logic:["if","for","ifequal","ifnotequal"],loader:["extends","block","include","load","ssi"],misc:"comment debug filter firstof spaceless templatetag widthratio with".split(" "),loop:["cycle","ifchanged","regroup"]});f.register.filters("dojox.dtl.filter",{dates:["date","time","timesince","timeuntil"],htmlstrings:["linebreaks","linebreaksbr",
"removetags","striptags"],integers:["add","get_digit"],lists:"dictsort dictsortreversed first join length length_is random slice unordered_list".split(" "),logic:["default","default_if_none","divisibleby","yesno"],misc:["filesizeformat","pluralize","phone2numeric","pprint"],strings:"addslashes capfirst center cut fix_ampersands floatformat iriencode linenumbers ljust lower make_list rjust slugify stringformat title truncatewords truncatewords_html upper urlencode urlize urlizetrunc wordcount wordwrap".split(" ")});
f.register.filters("dojox.dtl",{_base:["escape","safe"]});return f})},"dojox/dtl/utils/date":function(){define(["dojo/_base/lang","dojox/date/php","../_base"],function(k,h,g){var e=k.getObject("utils.date",!0,g);e.DateFormat=h.DateFormat;k.extend(e.DateFormat,h.DateFormat.prototype,{f:function(){return!this.date.getMinutes()?this.g():this.g()+":"+this.i()},N:function(){return e._months_ap[this.date.getMonth()]},P:function(){return!this.date.getMinutes()&&!this.date.getHours()?"midnight":!this.date.getMinutes()&&
12==this.date.getHours()?"noon":this.f()+" "+this.a()}});k.mixin(dojox.dtl.utils.date,{format:function(c,a){return(new dojox.dtl.utils.date.DateFormat(a)).format(c)},timesince:function(c,a){c instanceof Date||(c=new Date(c.year,c.month,c.day));a||(a=new Date);for(var b=Math.abs(a.getTime()-c.getTime()),d=0,f;f=dojox.dtl.utils.date._chunks[d];d++){var e=Math.floor(b/f[0]);if(e)break}return e+" "+f[1](e)},_chunks:[[31536E6,function(c){return 1==c?"year":"years"}],[2592E6,function(c){return 1==c?"month":
"months"}],[6048E5,function(c){return 1==c?"week":"weeks"}],[864E5,function(c){return 1==c?"day":"days"}],[36E5,function(c){return 1==c?"hour":"hours"}],[6E4,function(c){return 1==c?"minute":"minutes"}]],_months_ap:"Jan. Feb. March April May June July Aug. Sept. Oct. Nov. Dec.".split(" ")});return e})},"dojox/dtl/tag/date":function(){define(["dojo/_base/lang","../_base","../utils/date"],function(k,h,g){var e=k.getObject("tag.date",!0,h);e.NowNode=function(c,a){this._format=c;this.format=new g.DateFormat(c);
this.contents=a};k.extend(e.NowNode,{render:function(c,a){this.contents.set(this.format.format(new Date));return this.contents.render(c,a)},unrender:function(c,a){return this.contents.unrender(c,a)},clone:function(c){return new this.constructor(this._format,this.contents.clone(c))}});e.now=function(c,a){var b=a.split_contents();if(2!=b.length)throw Error("'now' statement takes one argument");return new e.NowNode(b[1].slice(1,-1),c.create_text_node())};return e})},"dojox/dtl/tag/loader":function(){define(["dojo/_base/lang",
"../_base","dojo/_base/array","dojo/_base/connect"],function(k,h,g,e){var c=k.getObject("tag.loader",!0,h);c.BlockNode=k.extend(function(a,b){this.name=a;this.nodelist=b},{"super":function(){if(this.parent){var a=this.parent.nodelist.dummyRender(this.context,null,!0);"string"==typeof a&&(a=new String(a));a.safe=!0;return a}return""},render:function(a,b){var d=this.name,f=this.nodelist;if(b.blocks&&(d=b.blocks[d]))f=d.nodelist,d.used=!0;this.rendered=f;this.context=a=a.push();this.parent=null;f!=this.nodelist&&
(this.parent=this);a.block=this;if(b.getParent)var c=b.getParent(),g=e.connect(b,"onSetParent",function(a,d,f){d&&f&&b.setParent(c)});b=f.render(a,b,this);g&&e.disconnect(g);a=a.pop();return b},unrender:function(a,b){return this.rendered.unrender(a,b)},clone:function(a){return new this.constructor(this.name,this.nodelist.clone(a))},toString:function(){return"dojox.dtl.tag.loader.BlockNode"}});c.ExtendsNode=k.extend(function(a,b,d,f,c){this.getTemplate=a;this.nodelist=b;this.shared=d;this.parent=f;
this.key=c},{parents:{},getParent:function(a){var b=this.parent;if(!b){var d,b=this.parent=a.get(this.key,!1);if(!b)throw Error("extends tag used a variable that did not resolve");"object"==typeof b&&(a=b.url||b.templatePath,b.shared&&(this.shared=!0),a?b=this.parent=a.toString():b.templateString?(d=b.templateString,b=this.parent=" "):b=this.parent=this.parent.toString());b&&0===b.indexOf("shared:")&&(this.shared=!0,b=this.parent=b.substring(7,b.length))}if(!b)throw Error("Invalid template name in 'extends' tag.");
if(b.render)return b;if(this.parents[b])return this.parents[b];this.parent=this.getTemplate(d||dojox.dtl.text.getTemplateString(b));this.shared&&(this.parents[b]=this.parent);return this.parent},render:function(a,b){var d=this.getParent(a);d.blocks=d.blocks||{};b.blocks=b.blocks||{};for(var f=0,c;c=this.nodelist.contents[f];f++)if(c instanceof dojox.dtl.tag.loader.BlockNode){var e=d.blocks[c.name];e&&e.nodelist!=c.nodelist&&(b=e.nodelist.unrender(a,b));d.blocks[c.name]=b.blocks[c.name]={shared:this.shared,
nodelist:c.nodelist,used:!1}}this.rendered=d;return d.nodelist.render(a,b,this)},unrender:function(a,b){return this.rendered.unrender(a,b,this)},toString:function(){return"dojox.dtl.block.ExtendsNode"}});c.IncludeNode=k.extend(function(a,b,d,c,e){this._path=a;this.path=(this.constant=b)?a:new h._Filter(a);this.getTemplate=d;this.text=c;this.parsed=5==arguments.length?e:!0},{_cache:[{},{}],render:function(a,b){var d=(this.constant?this.path:this.path.resolve(a)).toString(),c=Number(this.parsed),e=
!1;d!=this.last&&(e=!0,this.last&&(b=this.unrender(a,b)),this.last=d);var g=this._cache[c];if(c)return g[d]||(g[d]=h.text._resolveTemplateArg(d,!0)),e&&(this.rendered=this.getTemplate(g[d]).nodelist),this.rendered.render(a,b,this);if(this.text instanceof h._TextNode)return e&&(this.rendered=this.text,this.rendered.set(h.text._resolveTemplateArg(d,!0))),this.rendered.render(a,b);if(!g[d]){var c=[],k=document.createElement("div");k.innerHTML=h.text._resolveTemplateArg(d,!0);for(var m=k.childNodes;m.length;){var q=
k.removeChild(m[0]);c.push(q)}g[d]=c}if(e){this.nodelist=[];for(e=0;c=g[d][e];e++)this.nodelist.push(c.cloneNode(!0))}for(e=0;d=this.nodelist[e];e++)b=b.concat(d);return b},unrender:function(a,b){this.rendered&&(b=this.rendered.unrender(a,b));if(this.nodelist)for(var d=0,c;c=this.nodelist[d];d++)b=b.remove(c);return b},clone:function(a){return new this.constructor(this._path,this.constant,this.getTemplate,this.text.clone(a),this.parsed)}});k.mixin(c,{block:function(a,b){var d=b.contents.split()[1];
a._blocks=a._blocks||{};a._blocks[d]=a._blocks[d]||[];a._blocks[d].push(d);var c=a.parse(["endblock","endblock "+d]).rtrim();a.next_token();return new dojox.dtl.tag.loader.BlockNode(d,c)},extends_:function(a,b){var d=b.contents.split(),c=!1,e=null,g=null;'"'==d[1].charAt(0)||"'"==d[1].charAt(0)?e=d[1].substring(1,d[1].length-1):g=d[1];e&&0==e.indexOf("shared:")&&(c=!0,e=e.substring(7,e.length));d=a.parse();return new dojox.dtl.tag.loader.ExtendsNode(a.getTemplate,d,c,e,g)},include:function(a,b){var d=
b.contents.split();if(2!=d.length)throw Error(d[0]+" tag takes one argument: the name of the template to be included");var d=d[1],f=!1;if(('"'==d.charAt(0)||"'"==d.slice(-1))&&d.charAt(0)==d.slice(-1))d=d.slice(1,-1),f=!0;return new c.IncludeNode(d,f,a.getTemplate,a.create_text_node())},ssi:function(a,b){var d=b.contents.split(),f=!1;if(3==d.length&&(f="parsed"==d.pop(),!f))throw Error("Second (optional) argument to ssi tag must be 'parsed'");d=c.include(a,new h.Token(b.token_type,d.join(" ")));d.parsed=
f;return d}});return c})},"dojox/dtl/Context":function(){define(["dojo/_base/lang","./_base"],function(k,h){return h.Context=k.extend(function(g){this._this={};h._Context.call(this,g)},h._Context.prototype,{getKeys:function(){var g=[],e;for(e in this)this.hasOwnProperty(e)&&"_this"!=e&&g.push(e);return g},extend:function(g){return k.delegate(this,g)},filter:function(g){var e=new h.Context,c=[],a,b;if(g instanceof h.Context)c=g.getKeys();else if("object"==typeof g)for(var d in g)c.push(d);else for(a=
0;b=arguments[a];a++)"string"==typeof b&&c.push(b);a=0;for(d;d=c[a];a++)e[d]=this[d];return e},setThis:function(g){this._this=g},getThis:function(){return this._this},hasKey:function(g){return this._getter&&"undefined"!=typeof this._getter(g)||"undefined"!=typeof this[g]?!0:!1}})})},"dojox/string/tokenize":function(){define(["dojo/_base/lang","dojo/_base/sniff"],function(k,h){var g=k.getObject("dojox.string",!0).tokenize;return g=function(e,c,a,b){var d=[],f,l;for(l=0;f=c.exec(e);){l=e.slice(l,c.lastIndex-
f[0].length);l.length&&d.push(l);if(a){if(h("opera")){for(l=f.slice(0);l.length<f.length;)l.push(null);f=l}f=a.apply(b,f.slice(1).concat(d.length));"undefined"!=typeof f&&d.push(f)}l=c.lastIndex}l=e.slice(l);l.length&&d.push(l);return d}})},"dojox/dtl/tag/misc":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/connect","../_base"],function(k,h,g,e){var c=k.getObject("tag.misc",!0,e);c.DebugNode=k.extend(function(a){this.text=a},{render:function(a,b){for(var d=a.getKeys(),c=[],e=
0,g;g=d[e];e++)c+="["+g+": "+typeof a[g]+"]\n";return this.text.set(c).render(a,b,this)},unrender:function(a,b){return b},clone:function(a){return new this.constructor(this.text.clone(a))},toString:function(){return"ddtm.DebugNode"}});c.FilterNode=k.extend(function(a,b){this._varnode=a;this._nodelist=b},{render:function(a,b){var d=this._nodelist.render(a,new dojox.string.Builder);a=a.update({"var":d.toString()});this._varnode.render(a,b);a.pop();return b},unrender:function(a,b){return b},clone:function(a){return new this.constructor(this._expression,
this._nodelist.clone(a))}});c.FirstOfNode=k.extend(function(a,b){this._vars=a;this.vars=h.map(a,function(a){return new dojox.dtl._Filter(a)});this.contents=b},{render:function(a,b){for(var d=0,c;c=this.vars[d];d++)if(c=c.resolve(a),"undefined"!=typeof c)return null===c&&(c="null"),this.contents.set(c),this.contents.render(a,b);return this.contents.unrender(a,b)},unrender:function(a,b){return this.contents.unrender(a,b)},clone:function(a){return new this.constructor(this._vars,this.contents.clone(a))}});
c.SpacelessNode=k.extend(function(a,b){this.nodelist=a;this.contents=b},{render:function(a,b){if(b.getParent){var d=[g.connect(b,"onAddNodeComplete",this,"_watch"),g.connect(b,"onSetParent",this,"_watchParent")];b=this.nodelist.render(a,b);g.disconnect(d[0]);g.disconnect(d[1])}else d=this.nodelist.dummyRender(a),this.contents.set(d.replace(/>\s+</g,"\x3e\x3c")),b=this.contents.render(a,b);return b},unrender:function(a,b){return this.nodelist.unrender(a,b)},clone:function(a){return new this.constructor(this.nodelist.clone(a),
this.contents.clone(a))},_isEmpty:function(a){return 3==a.nodeType&&!a.data.match(/[^\s\n]/)},_watch:function(a){if(this._isEmpty(a))a.parentNode.firstChild==a&&a.parentNode.removeChild(a);else{var b=a.parentNode.childNodes;if(1==a.nodeType&&2<b.length)for(var d=2;b[d];d++)if(1==b[d-2].nodeType&&this._isEmpty(b[d-1])){a.parentNode.removeChild(b[d-1]);break}}},_watchParent:function(a){if(a.childNodes.length)for(;a.childNodes.length;){var b=a.childNodes[a.childNodes.length-1];if(!this._isEmpty(b))break;
a.removeChild(b)}}});c.TemplateTagNode=k.extend(function(a,b){this.tag=a;this.contents=b},{mapping:{openblock:"{%",closeblock:"%}",openvariable:"{{",closevariable:"}}",openbrace:"{",closebrace:"}",opencomment:"{#",closecomment:"#}"},render:function(a,b){this.contents.set(this.mapping[this.tag]);return this.contents.render(a,b)},unrender:function(a,b){return this.contents.unrender(a,b)},clone:function(a){return new this.constructor(this.tag,this.contents.clone(a))}});c.WidthRatioNode=k.extend(function(a,
b,d,c){this.current=new e._Filter(a);this.max=new e._Filter(b);this.width=d;this.contents=c},{render:function(a,b){var d=+this.current.resolve(a),c=+this.max.resolve(a);"number"!=typeof d||"number"!=typeof c||!c?this.contents.set(""):this.contents.set(""+Math.round(d/c*this.width));return this.contents.render(a,b)},unrender:function(a,b){return this.contents.unrender(a,b)},clone:function(a){return new this.constructor(this.current.getExpression(),this.max.getExpression(),this.width,this.contents.clone(a))}});
c.WithNode=k.extend(function(a,b,d){this.target=new e._Filter(a);this.alias=b;this.nodelist=d},{render:function(a,b){var d=this.target.resolve(a);a=a.push();a[this.alias]=d;b=this.nodelist.render(a,b);a.pop();return b},unrender:function(a,b){return b},clone:function(a){return new this.constructor(this.target.getExpression(),this.alias,this.nodelist.clone(a))}});k.mixin(c,{comment:function(a,b){a.skip_past("endcomment");return e._noOpNode},debug:function(a,b){return new c.DebugNode(a.create_text_node())},
filter:function(a,b){var d=b.contents.split(null,1)[1],d=a.create_variable_node("var|"+d),f=a.parse(["endfilter"]);a.next_token();return new c.FilterNode(d,f)},firstof:function(a,b){var d=b.split_contents().slice(1);if(!d.length)throw Error("'firstof' statement requires at least one argument");return new c.FirstOfNode(d,a.create_text_node())},spaceless:function(a,b){var d=a.parse(["endspaceless"]);a.delete_first_token();return new c.SpacelessNode(d,a.create_text_node())},templatetag:function(a,b){var d=
b.contents.split();if(2!=d.length)throw Error("'templatetag' statement takes one argument");var d=d[1],f=c.TemplateTagNode.prototype.mapping;if(!f[d]){var e=[],g;for(g in f)e.push(g);throw Error("Invalid templatetag argument: '"+d+"'. Must be one of: "+e.join(", "));}return new c.TemplateTagNode(d,a.create_text_node())},widthratio:function(a,b){var d=b.contents.split();if(4!=d.length)throw Error("widthratio takes three arguments");var e=+d[3];if("number"!=typeof e)throw Error("widthratio final argument must be an integer");
return new c.WidthRatioNode(d[1],d[2],e,a.create_text_node())},with_:function(a,b){var d=b.split_contents();if(4!=d.length||"as"!=d[2])throw Error("do_width expected format as 'with value as name'");var e=a.parse(["endwith"]);a.next_token();return new c.WithNode(d[1],d[3],e)}});return c})},"dojox/string/Builder":function(){define(["dojo/_base/lang"],function(k){return k.getObject("string",!0,dojox).Builder=function(h){var g="";this.length=0;this.append=function(e){if(1<arguments.length){var c="";
switch(arguments.length){case 9:c=""+arguments[8]+c;case 8:c=""+arguments[7]+c;case 7:c=""+arguments[6]+c;case 6:c=""+arguments[5]+c;case 5:c=""+arguments[4]+c;case 4:c=""+arguments[3]+c;case 3:c=""+arguments[2]+c;case 2:g+=""+arguments[0]+arguments[1]+c;break;default:for(var a=0;a<arguments.length;)c+=arguments[a++];g+=c}}else g+=e;this.length=g.length;return this};this.concat=function(e){return this.append.apply(this,arguments)};this.appendArray=function(e){return this.append.apply(this,e)};this.clear=
function(){g="";this.length=0;return this};this.replace=function(e,c){g=g.replace(e,c);this.length=g.length;return this};this.remove=function(e,c){void 0===c&&(c=g.length);if(0==c)return this;g=g.substr(0,e)+g.substr(e+c);this.length=g.length;return this};this.insert=function(e,c){g=0==e?c+g:g.slice(0,e)+c+g.slice(e);this.length=g.length;return this};this.toString=function(){return g};h&&this.append(h)}})},"dojox/dtl/ext-dojo/NodeList":function(){define(["dojo/_base/lang","dojo/query","../_base"],
function(k,h,g){k.getObject("dojox.dtl.ext-dojo.NodeList",!0);h=h.NodeList;k.extend(h,{dtl:function(e,c){var a=this,b=function(b,c){var e=b.render(new g._Context(c));a.forEach(function(a){a.innerHTML=e})};g.text._resolveTemplateArg(e).addCallback(function(a){e=new g.Template(a);g.text._resolveContextArg(c).addCallback(function(a){b(e,a)})});return this}});return h})},"dojox/dtl/tag/logic":function(){define(["dojo/_base/lang","../_base"],function(k,h){var g=k.getObject("tag.logic",!0,h);g.IfNode=k.extend(function(e,
c,a,b){this.bools=e;this.trues=c;this.falses=a;this.type=b},{render:function(e,c){var a,b,d;if("or"==this.type){for(a=0;b=this.bools[a];a++)if(d=b[0],b=b[1],(b=b.resolve(e))&&!d||d&&!b)return this.falses&&(c=this.falses.unrender(e,c)),this.trues?this.trues.render(e,c,this):c;this.trues&&(c=this.trues.unrender(e,c));return this.falses?this.falses.render(e,c,this):c}for(a=0;b=this.bools[a];a++)if(d=b[0],b=b[1],b=b.resolve(e),b==d)return this.trues&&(c=this.trues.unrender(e,c)),this.falses?this.falses.render(e,
c,this):c;this.falses&&(c=this.falses.unrender(e,c));return this.trues?this.trues.render(e,c,this):c},unrender:function(e,c){c=this.trues?this.trues.unrender(e,c):c;return c=this.falses?this.falses.unrender(e,c):c},clone:function(e){var c=this.trues?this.trues.clone(e):null;e=this.falses?this.falses.clone(e):null;return new this.constructor(this.bools,c,e,this.type)}});g.IfEqualNode=k.extend(function(e,c,a,b,d){this.var1=new h._Filter(e);this.var2=new h._Filter(c);this.trues=a;this.falses=b;this.negate=
d},{render:function(e,c){var a=this.var1.resolve(e),b=this.var2.resolve(e),a="undefined"!=typeof a?a:"",b="undefined"!=typeof a?b:"";if(this.negate&&a!=b||!this.negate&&a==b)return this.falses&&(c=this.falses.unrender(e,c,this)),this.trues?this.trues.render(e,c,this):c;this.trues&&(c=this.trues.unrender(e,c,this));return this.falses?this.falses.render(e,c,this):c},unrender:function(e,c){return g.IfNode.prototype.unrender.call(this,e,c)},clone:function(e){var c=this.trues?this.trues.clone(e):null;
e=this.falses?this.falses.clone(e):null;return new this.constructor(this.var1.getExpression(),this.var2.getExpression(),c,e,this.negate)}});g.ForNode=k.extend(function(e,c,a,b){this.assign=e;this.loop=new h._Filter(c);this.reversed=a;this.nodelist=b;this.pool=[]},{render:function(e,c){var a,b,d,f=!1,g=this.assign;for(d=0;d<g.length;d++)if("undefined"!=typeof e[g[d]]){f=!0;e=e.push();break}!f&&e.forloop&&(f=!0,e=e.push());d=this.loop.resolve(e)||[];var h=[];if(k.isObject(d)&&!k.isArrayLike(d))for(a in d)h.push(d[a]);
else h=d;for(a=h.length;a<this.pool.length;a++)this.pool[a].unrender(e,c,this);this.reversed&&(h=h.slice(0).reverse());var p=e.forloop={parentloop:e.get("forloop",{})};for(a=b=0;a<h.length;a++){var m=h[a];p.counter0=b;p.counter=b+1;p.revcounter0=h.length-b-1;p.revcounter=h.length-b;p.first=!b;p.last=b==h.length-1;if(1<g.length&&k.isArrayLike(m)){f||(f=!0,e=e.push());var q={};for(d=0;d<m.length&&d<g.length;d++)q[g[d]]=m[d];k.mixin(e,q)}else e[g[0]]=m;b+1>this.pool.length&&this.pool.push(this.nodelist.clone(c));
c=this.pool[b++].render(e,c,this)}delete e.forloop;if(f)e.pop();else for(d=0;d<g.length;d++)delete e[g[d]];return c},unrender:function(e,c){for(var a=0,b;b=this.pool[a];a++)c=b.unrender(e,c);return c},clone:function(e){return new this.constructor(this.assign,this.loop.getExpression(),this.reversed,this.nodelist.clone(e))}});k.mixin(g,{if_:function(e,c){var a,b,d,f=[],l=c.contents.split();l.shift();c=l.join(" ");l=c.split(" and ");if(1==l.length)d="or",l=c.split(" or ");else{d="and";for(a=0;a<l.length;a++)if(-1!=
l[a].indexOf(" or "))throw Error("'if' tags can't mix 'and' and 'or'");}for(a=0;b=l[a];a++){var k=!1;0==b.indexOf("not ")&&(b=b.slice(4),k=!0);f.push([k,new h._Filter(b)])}a=e.parse(["else","endif"]);b=!1;c=e.next_token();"else"==c.contents&&(b=e.parse(["endif"]),e.next_token());return new g.IfNode(f,a,b,d)},_ifequal:function(e,c,a){var b=c.split_contents();if(3!=b.length)throw Error(b[0]+" takes two arguments");var d="end"+b[0],f=e.parse(["else",d]),l=!1;c=e.next_token();"else"==c.contents&&(l=e.parse([d]),
e.next_token());return new g.IfEqualNode(b[1],b[2],f,l,a)},ifequal:function(e,c){return g._ifequal(e,c)},ifnotequal:function(e,c){return g._ifequal(e,c,!0)},for_:function(e,c){var a=c.contents.split();if(4>a.length)throw Error("'for' statements should have at least four words: "+c.contents);var b="reversed"==a[a.length-1],d=b?-3:-2;if("in"!=a[a.length+d])throw Error("'for' tag received an invalid argument: "+c.contents);for(var f=a.slice(1,d).join(" ").split(/ *, */),l=0;l<f.length;l++)if(!f[l]||
-1!=f[l].indexOf(" "))throw Error("'for' tag received an invalid argument: "+c.contents);l=e.parse(["endfor"]);e.next_token();return new g.ForNode(f,a[a.length+d+1],b,l)}});return g})},"dojox/date/php":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/date","dojox/string/tokenize"],function(k,h,g,e){var c=k.getObject("date.php",!0,dojox);c.format=function(a,b){return(new c.DateFormat(b)).format(a)};c.DateFormat=function(a){if(!this.regex){var b=[],d;for(d in this.constructor.prototype)k.isString(d)&&
(1==d.length&&k.isFunction(this[d]))&&b.push(d);this.constructor.prototype.regex=RegExp("(?:(\\\\.)|(["+b.join("")+"]))","g")}var c=[];this.tokens=e(a,this.regex,function(a,b,d){if(b)return c.push([d,b]),b;if(a)return a.charAt(1)});this.replacements=c};k.extend(c.DateFormat,{weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays_3:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
months_3:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthdays:[31,28,31,30,31,30,31,31,30,31,30,31],format:function(a){this.date=a;a=0;for(var b;b=this.replacements[a];a++)this.tokens[b[0]]=this[b[1]]();return this.tokens.join("")},d:function(){var a=this.j();return 1==a.length?"0"+a:a},D:function(){return this.weekdays_3[this.date.getDay()]},j:function(){return this.date.getDate()+""},l:function(){return this.weekdays[this.date.getDay()]},N:function(){var a=this.w();return!a?7:
a},S:function(){switch(this.date.getDate()){case 11:case 12:case 13:return"th";case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},w:function(){return this.date.getDay()+""},z:function(){var a=this.date.getTime()-(new Date(this.date.getFullYear(),0,1)).getTime();return Math.floor(a/864E5)+""},W:function(){var a,b=(new Date(this.date.getFullYear(),0,1)).getDay()+1;a=this.date.getDay()+1;var d=parseInt(this.z());d<=8-b&&4<b?(a=new Date(this.date.getFullYear()-
1,this.date.getMonth(),this.date.getDate()),a=5==b||6==b&&g.isLeapYear(a)?53:52):(Boolean(this.L())?366:365)-d<4-a?a=1:(a=Math.ceil((d+(7-a)+(b-1))/7),4<b&&--a);return a},F:function(){return this.months[this.date.getMonth()]},m:function(){var a=this.n();return 1==a.length?"0"+a:a},M:function(){return this.months_3[this.date.getMonth()]},n:function(){return this.date.getMonth()+1+""},t:function(){return Boolean(this.L())&&1==this.date.getMonth()?29:this.monthdays[this.getMonth()]},L:function(){return g.isLeapYear(this.date)?
"1":"0"},o:function(){},Y:function(){return this.date.getFullYear()+""},y:function(){return this.Y().slice(-2)},a:function(){return 12<=this.date.getHours()?"pm":"am"},b:function(){return this.a().toUpperCase()},B:function(){for(var a=this.date.getTimezoneOffset()+60,a=3600*this.date.getHours()+60*this.date.getMinutes()+this.getSeconds()+60*a,a=Math.abs(Math.floor(a/86.4)%1E3)+"";2>a.length;)a="0"+a;return a},g:function(){return(this.date.getHours()%12||12)+""},G:function(){return this.date.getHours()+
""},h:function(){var a=this.g();return 1==a.length?"0"+a:a},H:function(){var a=this.G();return 1==a.length?"0"+a:a},i:function(){var a=this.date.getMinutes()+"";return 1==a.length?"0"+a:a},s:function(){var a=this.date.getSeconds()+"";return 1==a.length?"0"+a:a},e:function(){return g.getTimezoneName(this.date)},I:function(){},O:function(){var a=Math.abs(this.date.getTimezoneOffset()),b=Math.floor(a/60)+"",a=a%60+"";1==b.length&&(b="0"+b);1==a.length&&(b="0"+a);return(0>this.date.getTimezoneOffset()?
"+":"-")+b+a},P:function(){var a=this.O();return a.substring(0,2)+":"+a.substring(2,4)},T:function(){return this.e().substring(0,3)},Z:function(){return-60*this.date.getTimezoneOffset()},c:function(){return this.Y()+"-"+this.m()+"-"+this.d()+"T"+this.h()+":"+this.i()+":"+this.s()+this.P()},r:function(){return this.D()+", "+this.d()+" "+this.M()+" "+this.Y()+" "+this.H()+":"+this.i()+":"+this.s()+" "+this.O()},U:function(){return Math.floor(this.date.getTime()/1E3)}});return c})},"dojo/date":function(){define(["./has",
"./_base/lang"],function(k,h){var g={getDaysInMonth:function(e){var c=e.getMonth();return 1==c&&g.isLeapYear(e)?29:[31,28,31,30,31,30,31,31,30,31,30,31][c]},isLeapYear:function(e){e=e.getFullYear();return!(e%400)||!(e%4)&&!!(e%100)},getTimezoneName:function(e){var c=e.toString(),a="",b=c.indexOf("(");if(-1<b)a=c.substring(++b,c.indexOf(")"));else if(b=/([A-Z\/]+) \d{4}$/,c=c.match(b))a=c[1];else if(c=e.toLocaleString(),b=/ ([A-Z\/]+)$/,c=c.match(b))a=c[1];return"AM"==a||"PM"==a?"":a},compare:function(e,
c,a){e=new Date(+e);c=new Date(+(c||new Date));"date"==a?(e.setHours(0,0,0,0),c.setHours(0,0,0,0)):"time"==a&&(e.setFullYear(0,0,0),c.setFullYear(0,0,0));return e>c?1:e<c?-1:0},add:function(e,c,a){var b=new Date(+e),d=!1,f="Date";switch(c){case "day":break;case "weekday":var g;(c=a%5)?g=parseInt(a/5):(c=0<a?5:-5,g=0<a?(a-5)/5:(a+5)/5);var h=e.getDay(),k=0;6==h&&0<a?k=1:0==h&&0>a&&(k=-1);h+=c;if(0==h||6==h)k=0<a?2:-2;a=7*g+c+k;break;case "year":f="FullYear";d=!0;break;case "week":a*=7;break;case "quarter":a*=
3;case "month":d=!0;f="Month";break;default:f="UTC"+c.charAt(0).toUpperCase()+c.substring(1)+"s"}if(f)b["set"+f](b["get"+f]()+a);d&&b.getDate()<e.getDate()&&b.setDate(0);return b},difference:function(e,c,a){c=c||new Date;a=a||"day";var b=c.getFullYear()-e.getFullYear(),d=1;switch(a){case "quarter":e=e.getMonth();c=c.getMonth();e=Math.floor(e/3)+1;c=Math.floor(c/3)+1;d=c+4*b-e;break;case "weekday":b=Math.round(g.difference(e,c,"day"));a=parseInt(g.difference(e,c,"week"));d=b%7;if(0==d)b=5*a;else{var f=
0,l=e.getDay();c=c.getDay();a=parseInt(b/7);d=b%7;e=new Date(e);e.setDate(e.getDate()+7*a);e=e.getDay();if(0<b)switch(!0){case 6==l:f=-1;break;case 0==l:f=0;break;case 6==c:f=-1;break;case 0==c:f=-2;break;case 5<e+d:f=-2}else if(0>b)switch(!0){case 6==l:f=0;break;case 0==l:f=1;break;case 6==c:f=2;break;case 0==c:f=1;break;case 0>e+d:f=2}b=b+f-2*a}d=b;break;case "year":d=b;break;case "month":d=c.getMonth()-e.getMonth()+12*b;break;case "week":d=parseInt(g.difference(e,c,"day")/7);break;case "day":d/=
24;case "hour":d/=60;case "minute":d/=60;case "second":d/=1E3;case "millisecond":d*=c.getTime()-e.getTime()}return Math.round(d)}};h.mixin(h.getObject("dojo.date",!0),g);return g})},"dojox/dtl/tag/loop":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/json","../_base","dojox/string/tokenize"],function(k,h,g,e,c){var a=k.getObject("tag.loop",!0,e);a.CycleNode=k.extend(function(a,d,c,e){this.cyclevars=a;this.name=d;this.contents=c;this.shared=e||{counter:-1,map:{}}},{render:function(a,
d){a.forloop&&!a.forloop.counter0&&(this.shared.counter=-1);++this.shared.counter;var c=this.cyclevars[this.shared.counter%this.cyclevars.length],g=this.shared.map;g[c]||(g[c]=new e._Filter(c));c=g[c].resolve(a,d);this.name&&(a[this.name]=c);this.contents.set(c);return this.contents.render(a,d)},unrender:function(a,d){return this.contents.unrender(a,d)},clone:function(a){return new this.constructor(this.cyclevars,this.name,this.contents.clone(a),this.shared)}});a.IfChangedNode=k.extend(function(a,
d,c){this.nodes=a;this._vars=d;this.shared=c||{last:null,counter:0};this.vars=h.map(d,function(a){return new dojox.dtl._Filter(a)})},{render:function(a,d){a.forloop&&(a.forloop.counter<=this.shared.counter&&(this.shared.last=null),this.shared.counter=a.forloop.counter);var c;c=this.vars.length?g.toJson(h.map(this.vars,function(d){return d.resolve(a)})):this.nodes.dummyRender(a,d);if(c!=this.shared.last){var e=null===this.shared.last;this.shared.last=c;a=a.push();a.ifchanged={firstloop:e};d=this.nodes.render(a,
d);a=a.pop()}else d=this.nodes.unrender(a,d);return d},unrender:function(a,d){return this.nodes.unrender(a,d)},clone:function(a){return new this.constructor(this.nodes.clone(a),this._vars,this.shared)}});a.RegroupNode=k.extend(function(a,d,c){this._expression=a;this.expression=new e._Filter(a);this.key=d;this.alias=c},{_push:function(a,d,c){c.length&&a.push({grouper:d,list:c})},render:function(a,d){a[this.alias]=[];var c=this.expression.resolve(a);if(c){for(var e=null,g=[],h=0;h<c.length;h++){var k=
c[h][this.key];e!==k?(this._push(a[this.alias],e,g),e=k,g=[c[h]]):g.push(c[h])}this._push(a[this.alias],e,g)}return d},unrender:function(a,d){return d},clone:function(a,d){return this}});k.mixin(a,{cycle:function(b,d){var c=d.split_contents();if(2>c.length)throw Error("'cycle' tag requires at least two arguments");if(-1!=c[1].indexOf(","))for(var e=c[1].split(","),c=[c[0]],g=0;g<e.length;g++)c.push('"'+e[g]+'"');if(2==c.length){e=c[c.length-1];if(!b._namedCycleNodes)throw Error("No named cycles in template: '"+
e+"' is not defined");if(!b._namedCycleNodes[e])throw Error("Named cycle '"+e+"' does not exist");return b._namedCycleNodes[e]}4<c.length&&"as"==c[c.length-2]?(e=c[c.length-1],c=new a.CycleNode(c.slice(1,c.length-2),e,b.create_text_node()),b._namedCycleNodes||(b._namedCycleNodes={}),b._namedCycleNodes[e]=c):c=new a.CycleNode(c.slice(1),null,b.create_text_node());return c},ifchanged:function(b,d){var c=d.contents.split(),e=b.parse(["endifchanged"]);b.delete_first_token();return new a.IfChangedNode(e,
c.slice(1))},regroup:function(b,d){var e=c(d.contents,/(\s+)/g,function(a){return a});if(11>e.length||"as"!=e[e.length-3]||"by"!=e[e.length-7])throw Error("Expected the format: regroup list by key as newList");var g=e.slice(2,-8).join("");return new a.RegroupNode(g,e[e.length-5],e[e.length-1])}});return a})}}});define("dojox/dtl",["./dtl/_base"],function(k){return k});
//# sourceMappingURL=dtl.js.uncompressed.js.map